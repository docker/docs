command: docker sandbox run
short: Run an agent in a sandbox
long: |-
    Run an agent in a sandbox. Create the sandbox if it does not exist.

    Pass agent arguments after the "--" separator.

    Examples:
      # Create and run a sandbox with claude in current directory
      docker sandbox run claude .

      # Run an existing sandbox
      docker sandbox run existing-sandbox

      # Run a sandbox with agent arguments
      docker sandbox run claude . -- -p "What version are you running?"
usage: docker sandbox run SANDBOX [-- AGENT_ARGS...] | AGENT WORKSPACE [-- AGENT_ARGS...]
pname: docker sandbox
plink: docker_sandbox.yaml
options:
    - option: detached
      shorthand: d
      value_type: bool
      default_value: "false"
      description: Return sandbox ID without running agent (hidden, for testing)
      deprecated: false
      hidden: true
      experimental: false
      experimentalcli: false
      kubernetes: false
      swarm: false
    - option: load-local-template
      value_type: bool
      default_value: "false"
      description: Load a locally built template image into the sandbox
      deprecated: false
      hidden: false
      experimental: false
      experimentalcli: false
      kubernetes: false
      swarm: false
    - option: name
      value_type: string
      description: 'Name for the sandbox (default: <agent>-<workdir>)'
      details_url: '#name'
      deprecated: false
      hidden: false
      experimental: false
      experimentalcli: false
      kubernetes: false
      swarm: false
    - option: template
      shorthand: t
      value_type: string
      description: |
        Container image to use for the sandbox (default: agent-specific image)
      details_url: '#template'
      deprecated: false
      hidden: false
      experimental: false
      experimentalcli: false
      kubernetes: false
      swarm: false
inherited_options:
    - option: debug
      shorthand: D
      value_type: bool
      default_value: "false"
      description: Enable debug logging
      deprecated: false
      hidden: false
      experimental: false
      experimentalcli: false
      kubernetes: false
      swarm: false
    - option: socket
      value_type: string
      description: |
        Connect to daemon at specific socket path (for development/debugging)
      deprecated: false
      hidden: true
      experimental: false
      experimentalcli: false
      kubernetes: false
      swarm: false
examples: |-
    ### Run Claude in the current directory

    ```console
    $ docker sandbox run claude
    ```

    ### Specify a workspace directory (-w, --workspace) {#workspace}

    ```text
    --workspace PATH
    ```

    Run the agent in a specific directory:

    ```console
    $ docker sandbox run --workspace ~/projects/my-app claude
    ```

    The workspace directory is mounted at the same absolute path inside the sandbox.

    ### Enable Docker-in-Docker (--mount-docker-socket) {#mount-docker-socket}

    ```text
    --mount-docker-socket
    ```

    Mount the host's Docker socket into the sandbox, giving the agent access to Docker commands:

    ```console
    $ docker sandbox run --mount-docker-socket claude
    ```

    > [!CAUTION]
    > This grants the agent full access to your Docker daemon with root-level
    > privileges. Only use when you trust the code being executed.

    The agent can now build images, run containers, and manage your Docker environment.

    ### Set environment variables (-e, --env) {#env}

    ```text
    --env KEY=VALUE
    ```

    Pass environment variables to the sandbox:

    ```console
    $ docker sandbox run \
      --env NODE_ENV=development \
      --env DATABASE_URL=postgresql://localhost/myapp \
      claude
    ```

    ### Mount additional volumes (-v, --volume) {#volume}

    ```text
    --volume HOST_PATH:CONTAINER_PATH[:ro]
    ```

    Mount additional directories or files into the sandbox:

    ```console
    $ docker sandbox run \
      --volume ~/datasets:/data:ro \
      --volume ~/models:/models \
      claude
    ```

    Use `:ro` or `:readonly` to make mounts read-only.

    ### Use a custom base image (-t, --template) {#template}

    ```text
    --template IMAGE
    ```

    Specify a custom container image to use as the sandbox base:

    ```console
    $ docker sandbox run --template python:3-alpine claude
    ```

    By default, each agent uses a pre-configured image. The `--template` option
    lets you substitute a different image.

    ### Name the sandbox (--name) {#name}

    ```text
    --name NAME
    ```

    Assign a custom name to the sandbox for easier identification:

    ```console
    $ docker sandbox run --name my-project claude
    ```
deprecated: false
hidden: false
experimental: false
experimentalcli: false
kubernetes: false
swarm: false

