---
title: "Unable to connect to Docker Engine locally via namedpipe"
id: 1981
draftstate: inactive
deleted: false
layout: docs
permalink: /kb/1981/
originalpath: https://success.docker.com/KBase/Unable_to_connect_to_Docker_Engine_locally_via_namedpipe
source: https://success.docker.com/@api/deki/pages/1981/contents
tags:
- tag: "article:errors"
- tag: "component:engine"
- tag: "platform:windows"
- tag: "stage:reviewed"
---
{% raw %}
<link href="https://success.docker.com/@cdn/deki/syntax2/out/shCore.min.css" rel="stylesheet" type="text/css"/>
<link href="https://success.docker.com/@cdn/deki/syntax2/out/shThemeCedar.min.css" rel="stylesheet" type="text/css"/>
<script src="https://success.docker.com/@cdn/deki/syntax2/out/shCore.min.js" type="text/javascript">
</script>
<script src="https://success.docker.com/@cdn/deki/syntax2/out/shBrushPowershell.min.js" type="text/javascript">
</script>
<script type="text/javascript">
 /*<![CDATA[*/SyntaxHighlighter.all();/*]]>*/
</script>
<div class="mt-section" id="section_1" mt-section-origin="KBase/Unable_to_connect_to_Docker_Engine_locally_via_namedpipe">
 <span id="Issue">
 </span>
 <h3 id="2-0">
  <b>
   Issue
  </b>
 </h3>
 <p class="mt-indent-1">
  You can connect to Docker Engine via HTTP or named pipe, but you are unable to connect to Docker Engine from the local machine.
 </p>
</div>
<div class="mt-section" id="section_2" mt-section-origin="KBase/Unable_to_connect_to_Docker_Engine_locally_via_namedpipe">
 <span id="Possible_Cause">
 </span>
 <h3 id="2-1">
  Possible Cause
 </h3>
 <p class="mt-indent-1">
  Not being able to connect to Docker Engine from the local machine might be caused by the named pipe being blocked.
 </p>
</div>
<div class="mt-section" id="section_3" mt-section-origin="KBase/Unable_to_connect_to_Docker_Engine_locally_via_namedpipe">
 <span id="How_to_Verify">
 </span>
 <h3 id="2-2">
  How to Verify
 </h3>
 <p class="mt-indent-1">
  This command works on the same machine because it uses HTTP to connect instead of named pipe:
  <br/>
  <code>
   docker -H localhost info
  </code>
 </p>
 <p class="mt-indent-1">
  However, if you look at the output from
  <code>
   docker info
  </code>
  (which uses named pipe), if you see a golan error similar to the following containing
  <code>
   configureNpipeTransport
  </code>
  , there is a connection error to the named pipe:
 </p>
 <pre>
Exception 0xc0000005 0x1 0x4bdb404 0x180008910 
PC=0x180008910 

syscall.Syscall(0x7ff8dcdfdc40, 0x2, 0x40c, 0x3, 0x0, 0x0, 0x0, 0x410) 
/usr/local/go/src/runtime/syscall_windows.go:163 +0x6b 
github.com/docker/docker/vendor/github.com/Microsoft/go-winio.setFileCompletionNotificationModes(0x40c, 0x403, 0x0, 0xffffffff) 
/go/src/github.com/docker/docker/vendor/github.com/Microsoft/go-winio/zsyscall_windows.go:88 +0x6f 
github.com/docker/docker/vendor/github.com/Microsoft/go-winio.makeWin32File(0x40c, 0xc04240b890, 0x0, 0x0) 
/go/src/github.com/docker/docker/vendor/github.com/Microsoft/go-winio/file.go:78 +0xd8 
github.com/docker/docker/vendor/github.com/Microsoft/go-winio.DialPipe(0xc042117108, 0x16, 0xc04240b980, 0x0, 0x1120920, 0xc041fdf5ff, 0xc04240b9f8) 
/go/src/github.com/docker/docker/vendor/github.com/Microsoft/go-winio/pipe.go:188 +0x537 
github.com/docker/docker/vendor/github.com/docker/go-connections/sockets.DialPipe(0xc042117108, 0x16, 0x773594000, 0xc042082001, 0x1000000000010, 0x100, 0x100) 
/go/src/github.com/docker/docker/vendor/github.com/docker/go-connections/sockets/sockets_windows.go:26 +0x46 
github.com/docker/docker/vendor/github.com/docker/go-connections/sockets.<span class="replaceabletext">configureNpipeTransport</span>.func1(0xba718f, 0x3, 0xc0423eb4e0, 0x19, 0x60, 0x0, 0xc042412001, 0xc04240e180) 
</pre>
 <section>
  <p class="mt-indent-1">
   The error message shows that connection to named pipe is failing.  The extra option
   <code>
    -H localhost
   </code>
   tells the Docker client to connect via the network, so it works as expected.  This can happen either because the named pipe was not created properly or because something is blocking the connection to named pipe.
  </p>
  <p>
   Use the following Powershell command verify that named pipe for Docker Daemon is present:
  </p>
  <pre class="brush: powershell; collapse: false; first-line: 1; gutter: true; ruler: false; toolbar: true; wrap-lines: true; ">
PS C:\Users\Administrator&gt; [System.IO.Directory]::GetFiles("\\.\\pipe\\") | Select-String "docker" 
</pre>
  <p>
   If named pipe is present, the response should look like this:
  </p>
  <pre>
<code>\\.\\pipe\\docker_engine</code></pre>
  <div class="mt-section" id="section_4" mt-section-origin="KBase/Unable_to_connect_to_Docker_Engine_locally_via_namedpipe">
   <span id="How_to_Fix">
   </span>
   <h3 id="2-3">
    How to Fix
   </h3>
   <p>
    Any software that blocks the named pipe can cause this error. For example, make sure you do not have "Web Companion from Lavasoft" installed on the server.  It is known to block the named pipe connection.
   </p>
  </div>
 </section>
</div>
{% endraw %}
