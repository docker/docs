---
title: "High Memory Usage by dockerd leads to Out of Memory"
id: 2138
draftstate: inactive
deleted: false
layout: docs
permalink: /kb/2138/
originalpath: https://success.docker.com/KBase/High_Memory_Usage_by_dockerd_leads_to_%22Out_of_Memory%22
source: https://success.docker.com/@api/deki/pages/2138/contents
tags:
- tag: "article:errors"
- tag: "product:datacenter"
- tag: "stage:reviewed"
- tag: "testedon:cse-1.13.1-cs1"
- tag: "testedon:docker-17.03"
---
{% raw %}
<div class="mt-section" id="section_1" mt-section-origin='KBase/High_Memory_Usage_by_dockerd_leads_to_"Out_of_Memory"'>
 <span id="Issue">
 </span>
 <h2 id="1-0">
  Issue
 </h2>
 <p>
  A bug was identified in the Docker platform, specifically in the built-in swarm-mode orchestration, which can lead to high memory usage from the Docker daemon and out of memory issues on a node. In particular, a manager node that loses leadership during a RAFT election may have cluster events stack up in the events queue, leading to high memory usage and eventual out of memory issues.
 </p>
 <p>
  More specific details on the issue and fix can be found in the Docker Swarmkit github page:
  <a class="link-https" href="https://github.com/docker/swarmkit/pull/2215" rel="external nofollow" target="_blank">
   https://github.com/docker/swarmkit/pull/2215
  </a>
 </p>
 <p>
  Updates are available for Docker versions 1.13, 17.03 and subsequent releases.
 </p>
</div>
<div class="mt-section" id="section_2" mt-section-origin='KBase/High_Memory_Usage_by_dockerd_leads_to_"Out_of_Memory"'>
 <span id="Impact">
 </span>
 <h2 id="1-1">
  Impact
 </h2>
 <p>
  This bug affects Docker versions 1.13 and 17.03 when running a swarm-mode cluster, including Docker Enterprise Edition clusters using Universal Control Plane. Updates will be made available to these version.
 </p>
 <p>
  Universal Control Plane and Docker Trusted Registry do not require separate updates, and you can continue to use existing versions of these components. Only the underlying Docker EE Engine (previously CS Engine) requires updates to fix this issue.
 </p>
</div>
<div class="mt-section" id="section_3" mt-section-origin='KBase/High_Memory_Usage_by_dockerd_leads_to_"Out_of_Memory"'>
 <span id="Mitigation">
 </span>
 <h2 id="1-2">
  Mitigation
 </h2>
 <p>
  Docker is making available patches for 1.13 and 17.03, and the problem will beÂ fixed in subsequent releases.
 </p>
 <p>
  In the meantime, the workaround is to restart the Docker daemon on the affected node in order to temporarily return memory to the system.
 </p>
 <p>
  Please contact Docker Support if you have any questions or concerns.
 </p>
</div>
{% endraw %}
<a href="/troubleshoot/docker-datacenter/" class="button outline-btn">Continue troubleshooting Docker Datacenter</a><br>