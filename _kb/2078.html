---
title: "What does blob upload unknown mean when pushing to a HA DTR?"
id: 2078
draftstate: inactive
deleted: false
layout: docs
permalink: /kb/2078/
source: https://success.docker.com/@api/deki/pages/2078/contents
tags:
- tag: "article:question"
- tag: "component:dtr"
- tag: "product:datacenter"
- tag: "stage:reviewed"
---
{% raw %}
<p>
 The error
 <code>
  blob upload unknown
 </code>
 typically means an attempt was made to push a Docker image to an HA DTR installation, where the backend storage has not been configured for replication.  This is typically an oversight during installation where the local filesystem is being used for storage but something like NFS isn't backing the storage. Switching to a replicated storage option solves this.
</p>
<p>
 If NFS mounts for all DTR replicas have been configured and the error persists, it may be because of the NFS server side settings do not meeting the requirements for NFS when in use with the registry.  The required NFS server options are
 <code>
  sync
 </code>
 and
 <code>
  actimeo=0
 </code>
 .  These ensure the writes occur from one replica and are immediately available on others.
</p>
<p>
 If you are using the AWS Quickstart Template, an S3 bucket has already been created but requires configuring DTR to use it:
</p>
<ul>
 <li>
  <p>
   In DTR, go to
   <strong>
    Settings
   </strong>
   &gt; St
   <strong>
    orage
   </strong>
   .  Change the storage to
   <strong>
    S3
   </strong>
   .  Set the
   <strong>
    AWS region name
   </strong>
   and
   <strong>
    S3 bucket name
   </strong>
   .  The S3 bucket is already created. You can find this in the CloudFormation Stack's
   <strong>
    Outputs
   </strong>
   tab.  The Key is
   <code>
    S3Bucket
   </code>
   , and the IAM role should already be setup.
  </p>
 </li>
 <li>
  <p>
   The
   <strong>
    Access Key
   </strong>
   and
   <strong>
    Secret Key
   </strong>
   get passed automatically. The root directory can be left blank to use the default root.
  </p>
 </li>
 <li>
  <p>
   After configuring DTR with S3, the ability to push and pull images is enabled, with them being stored in S3.
  </p>
 </li>
</ul>

{% endraw %}
