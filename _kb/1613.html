---
title: "When upgrading my UCP cluster to 2.0.0, my nodes time out without being able to connect to the cluster after upgrading. How can I fix this?"
id: 1613
draftstate: inactive
deleted: false
layout: docs
permalink: /kb/1613/
originalpath: https://success.docker.com/KBase/When_upgrading_my_UCP_cluster_to_2.0.0%2C_my_nodes_time_out_without_being_able_to_connect_to_the_cluster_after_upgrading._How_can_I_fix_this%3F
source: https://success.docker.com/@api/deki/pages/1613/contents
tags:
- tag: "article:question"
- tag: "component:ucp"
- tag: "product:datacenter"
- tag: "stage:reviewed"
- tag: "testedon:ucp-2.0.0"
---
{% raw %}
<div class="mt-section" id="section_1" mt-section-origin="KBase/When_upgrading_my_UCP_cluster_to_2.0.0,_my_nodes_time_out_without_being_able_to_connect_to_the_cluster_after_upgrading._How_can_I_fix_this?">
 <span id="Issue">
 </span>
 <h2 id="1-0">
  Issue
 </h2>
 <p>
  UCP 2.0.0 and above use the Docker Swarm functions built into the 1.12 CS Engine and higher, instead of the classic Docker Swarm method in earlier versions. This new implementation uses port 2377 by default.
 </p>
</div>
<div class="mt-section" id="section_2" mt-section-origin="KBase/When_upgrading_my_UCP_cluster_to_2.0.0,_my_nodes_time_out_without_being_able_to_connect_to_the_cluster_after_upgrading._How_can_I_fix_this?">
 <span id="Solution">
 </span>
 <h2 id="1-1">
  Solution
 </h2>
 <p>
  Ensure that incoming port 2377 is available in addition to the existing ports opened for Docker Swarm communication. Your nodes should automatically connect to the controllers after opening the necessary ports, and the required UCP 2.0.0 containers will be deployed by the controllers onto those nodes.
 </p>
</div>
{% endraw %}
<a href="/troubleshoot/universal-control-plane/" class="button outline-btn">Continue troubleshooting Universal Control Plane</a><br><a href="/troubleshoot/docker-datacenter/" class="button outline-btn">Continue troubleshooting Docker Datacenter</a><br>