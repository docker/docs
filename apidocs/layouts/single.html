<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Docker Cloud API reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script type="text/javascript">
    !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
    analytics.load("IWj9D0UpZHZdZUZX9jl98PcpBFWBnBMy");
    analytics.page();
    }}();
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["http","go","python","shell"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="http">http</a>
              <a href="#" data-language-name="go">go</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="shell">CLI</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Docker Cloud currently offers a <strong>HTTP REST API</strong> and a <strong>Websocket Stream API</strong> which are used by both the <a href="https://cloud.docker.com/">Web UI</a> and the <a href="https://github.com/docker/dockercloud-cli">CLI</a>. This API documentation contains all API operations currently supported in the platform and provides examples of how to execute them using our Command Line Interface (CLI), <a href="https://github.com/docker/python-dockercloud">Python SDK</a> and <a href="https://github.com/docker/go-dockercloud">Go SDK</a>.</p>

<h1 id="authentication">Authentication</h1>

<p>In order to be able to make requests to the Docker Cloud API, you should first obtain an ApiKey for your account. For this, log into Docker Cloud, click on the menu on the upper right corner of the screen, select <strong>Account info</strong> and then select <strong>API keys</strong>.</p>

<h2 id="rest-api">REST API</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>
<span class="n">dockercloud</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="s">"username"</span>
<span class="n">dockercloud</span><span class="o">.</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"apikey"</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">dockercloud</span><span class="o">.</span><span class="n">User</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"username"</span><span class="x">
</span><span class="n">dockercloud</span><span class="o">.</span><span class="n">ApiKey</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"apikey"</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/app/v1/service/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code><span class="nb">export </span><span class="nv">DOCKERCLOUD_USER</span><span class="o">=</span>username
<span class="nb">export </span><span class="nv">DOCKERCLOUD_APIKEY</span><span class="o">=</span>apikey
</code></pre>

<blockquote>
<p>Make sure to replace <code class="prettyprint">username</code> with your username and <code class="prettyprint">apikey</code> with your API key.</p>
</blockquote>

<p>The Docker Cloud REST API is reachable through the following hostname:</p>

<p><code class="prettyprint">https://cloud.docker.com/</code></p>

<p>All requests should be sent to this endpoint using <code class="prettyprint">Basic</code> authentication using your API key as password:</p>

<p><code class="prettyprint">Authorization: Basic dXNlcm5hbWU6YXBpa2V5</code></p>

<p>HTTP responses are given in JSON format, so the following <code class="prettyprint">Accept</code> header is required for every API call:</p>

<p><code class="prettyprint">Accept: application/json</code></p>

<h3 id="namespaced-endpoints">Namespaced endpoints</h3>

<p>Endpoints that are labeled as &ldquo;namespaced&rdquo; allow the users to operate over
different namespaces, for example over an individual user namespace, or the
namespace of an organization the user is a member of. A namespace identifies the
owner of the resource.</p>

<p>The namespace is optional. If left blank, it defaults to the authenticated user
in the request. The namespace is set before the resource in the URL schema:
<code class="prettyprint">https://cloud.docker.com/api/&lt;subsystem&gt;/&lt;version&gt;/(optional_namespace/)&lt;resource&gt;/</code></p>

<p>Examples:</p>

<ul>
<li>The user <code class="prettyprint">exampleuser</code> wants to operate on the node cluster list endpoint in their own namespace. They can use either of the following urls:

<ul>
<li>https://cloud.docker.com/api/infra/v1/nodecluster/  (namespace omitted, so will use the user authenticated in the request)</li>
<li>https://cloud.docker.com/api/infra/v1/exampleuser/nodecluster/</li>
</ul></li>
<li>The user wants to operate on the node cluster list endpoint in an organization called <code class="prettyprint">exampleorg</code> (which they have permission to see):

<ul>
<li>https://cloud.docker.com/api/infra/v1/exampleorg/nodecluster/</li>
</ul></li>
</ul>

<h3 id="namespaced-endpoints-in-the-docker-cloud-cli">Namespaced endpoints in the docker-cloud CLI</h3>

<p>If you are using namespaces with the <code class="prettyprint">docker-cloud</code> CLI, set them by changing
the value of the <code class="prettyprint">DOCKERCLOUD_NAMESPACE</code> environment variable. You can either
set this globally, or specify it before each CLI command. To learn more, see the
<a href="https://github.com/docker/dockercloud-cli#namespace">Docker Cloud CLI README</a>.</p>

<h2 id="stream-api">Stream API</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">websocket</span>
<span class="kn">import</span> <span class="nn">base64</span>

<span class="n">header</span> <span class="o">=</span> <span class="s">"Authorization: Basic </span><span class="si">%</span><span class="s">s"</span> <span class="o">%</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="s">"</span><span class="si">%</span><span class="s">s:</span><span class="si">%</span><span class="s">s"</span> <span class="o">%</span> <span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">))</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">websocket</span><span class="o">.</span><span class="n">WebSocketApp</span><span class="p">(</span><span class="s">'wss://ws.cloud.docker.com/v1/events'</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="p">[</span><span class="n">header</span><span class="p">])</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/gorilla/websocket"</span><span class="x">
</span><span class="k">import</span><span class="x"> </span><span class="s">"encoding/base64"</span><span class="x">

</span><span class="k">var</span><span class="x"> </span><span class="n">StreamUrl</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"wss://ws.cloud.docker.com:443/v1/events"</span><span class="x">

</span><span class="n">sEnc</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">base64</span><span class="o">.</span><span class="n">StdEncoding</span><span class="o">.</span><span class="n">EncodeToString</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">User</span><span class="x"> </span><span class="o">+</span><span class="x"> </span><span class="s">":"</span><span class="x"> </span><span class="o">+</span><span class="x"> </span><span class="n">ApiKey</span><span class="p">))</span><span class="x">
</span><span class="n">header</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">Header</span><span class="p">{}</span><span class="x">
</span><span class="n">header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"Basic %s"</span><span class="p">,</span><span class="x"> </span><span class="n">sEnc</span><span class="p">))</span><span class="x">

</span><span class="k">var</span><span class="x"> </span><span class="n">Dialer</span><span class="x"> </span><span class="n">websocket</span><span class="o">.</span><span class="n">Dialer</span><span class="x">
</span><span class="n">ws</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">Dialer</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="n">url</span><span class="p">,</span><span class="x"> </span><span class="n">header</span><span class="p">)</span><span class="x">
</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/audit/v1/events</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">ws.cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">Upgrade</span>
<span class="na">Upgrade</span><span class="p">:</span> <span class="s">websocket</span>
</code></pre>
<pre class="highlight shell"><code><span class="nb">export </span><span class="nv">DOCKERCLOUD_USER</span><span class="o">=</span>username
<span class="nb">export </span><span class="nv">DOCKERCLOUD_APIKEY</span><span class="o">=</span>apikey
</code></pre>

<blockquote>
<p>Make sure to replace <code class="prettyprint">username</code> with your username and <code class="prettyprint">apikey</code> with your API key.</p>
</blockquote>

<p>The Docker Cloud Stream API is reachable through the following hostname:</p>

<p><code class="prettyprint">wss://ws.cloud.docker.com/</code></p>

<p>The Stream API requires the same authentication mechanism as the REST API:</p>

<p><code class="prettyprint">Authorization: Basic dXNlcm5hbWU6YXBpa2V5</code></p>

<h2 id="api-roles">API roles</h2>

<blockquote>
<p>The CLI and the SDKs will detect this environment variable and automatically use it</p>
</blockquote>

<p>If you give an <a href="/docker-cloud/apps/api-roles/">API role</a> to a container, the environment variable <code class="prettyprint">DOCKERCLOUD_AUTH</code> inside the container will have the contents of the <code class="prettyprint">Authorization</code> header that you can use to authenticate against the REST or Stream APIs:</p>

<p><code class="prettyprint">curl -H &quot;Authorization: $DOCKERCLOUD_AUTH&quot; https://cloud.docker.com/api/app/v1/service/</code></p>

          <h1 id="actions">Actions</h1>

<h2 id="action">Action</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cluster Create"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wed, 17 Sep 2014 08:26:22 +0000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56.78.90.12"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_user_action"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"can_be_canceled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New York, USA"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/user_namespace/cluster/eea638f4-b77a-4183-b241-22dbd7866f22/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/user_namespace/cluster/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"resource_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/audit/v1/action/6246c558-976c-4df6-ba60-eb1a344a17af/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wed, 17 Sep 2014 08:26:22 +0000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_namespace"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user_agent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_4) AppleWebKit/537.78.2 (KHTML, like Gecko) Version/7.0.6 Safari/537.78.2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6246c558-976c-4df6-ba60-eb1a344a17af"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>An action represents an API call by a user. Details of the API call such as timestamp, origin IP address, and user agent are logged in the action object.</p>

<p>Simple API calls that do not require asynchronous execution will return immediately with the appropiate HTTP error code and an action object will be created either in <code class="prettyprint">Success</code> or <code class="prettyprint">Failed</code> states. API calls that do require asynchronous execution will return HTTP code <code class="prettyprint">202 Accepted</code> immediately and create an action object in <code class="prettyprint">In progress</code> state, which will change to <code class="prettyprint">Success</code> or <code class="prettyprint">Failed</code> state depending on the outcome of the operation being performed. In both cases the response will include a <code class="prettyprint">X-DockerCloud-Action-URI</code> header with the resource URI of the created action.</p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">resource_uri</td>
<td style="text-align: left">A unique API endpoint that represents the action</td>
</tr>
<tr>
<td style="text-align: left">uuid</td>
<td style="text-align: left">A unique identifier for the action generated automatically on creation</td>
</tr>
<tr>
<td style="text-align: left">object</td>
<td style="text-align: left">The API object (resource URI) to which the action applies to</td>
</tr>
<tr>
<td style="text-align: left">action</td>
<td style="text-align: left">Name of the operation performed/being performed</td>
</tr>
<tr>
<td style="text-align: left">method</td>
<td style="text-align: left">HTTP method used to access the API</td>
</tr>
<tr>
<td style="text-align: left">path</td>
<td style="text-align: left">HTTP path of the API accessed</td>
</tr>
<tr>
<td style="text-align: left">user</td>
<td style="text-align: left">The user authenticated in the request that created the action</td>
</tr>
<tr>
<td style="text-align: left">user_agent</td>
<td style="text-align: left">The user agent provided by the client when accessing the API endpoint</td>
</tr>
<tr>
<td style="text-align: left">start_date</td>
<td style="text-align: left">Date and time when the API call was performed and the operation started processing</td>
</tr>
<tr>
<td style="text-align: left">end_date</td>
<td style="text-align: left">Date and time when the API call finished processing</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">State of the operation (see table below)</td>
</tr>
<tr>
<td style="text-align: left">ip</td>
<td style="text-align: left">IP address of the user that performed the API call</td>
</tr>
<tr>
<td style="text-align: left">location</td>
<td style="text-align: left">Geographic location of the IP address of the user that performed the API call</td>
</tr>
<tr>
<td style="text-align: left">is_user_action</td>
<td style="text-align: left">If the action has been triggered by the user</td>
</tr>
<tr>
<td style="text-align: left">can_be_canceled</td>
<td style="text-align: left">If the action can be canceled by the user in the middle of its execution</td>
</tr>
<tr>
<td style="text-align: left">can_be_retried</td>
<td style="text-align: left">If the action can be retried by the user</td>
</tr>
</tbody></table>

<h3 id="action-states">Action states</h3>

<table><thead>
<tr>
<th style="text-align: left">State</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">Pending</td>
<td style="text-align: left">The action needed asynchronous execution and it is waiting for an in progress action</td>
</tr>
<tr>
<td style="text-align: left">In progress</td>
<td style="text-align: left">The action needed asynchronous execution and is being performed</td>
</tr>
<tr>
<td style="text-align: left">Canceling</td>
<td style="text-align: left">The action is being canceled by user request</td>
</tr>
<tr>
<td style="text-align: left">Canceled</td>
<td style="text-align: left">The action has been canceled</td>
</tr>
<tr>
<td style="text-align: left">Success</td>
<td style="text-align: left">The action was executed successfully</td>
</tr>
<tr>
<td style="text-align: left">Failed</td>
<td style="text-align: left">There was an issue when the action was being performed. Check the logs for more information.</td>
</tr>
</tbody></table>

<h2 id="list-all-actions">List all actions</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">actions</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Action</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">actionList</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">ListActions</span><span class="p">()</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">actionList</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/audit/v1/action/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud action ls
</code></pre>

<p>Lists all actions in chronological order. Returns a list of <code class="prettyprint">Action</code> objects.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/audit/v1/action/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">uuid</td>
<td style="text-align: left">Filter by UUID.</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">Filter by state. Possible values: <code class="prettyprint">In progress</code>, <code class="prettyprint">Success</code>, <code class="prettyprint">Failed</code></td>
</tr>
<tr>
<td style="text-align: left">start_date</td>
<td style="text-align: left">Filter by start date. Valid filtering values are <code class="prettyprint">start_date__gte</code> (after or on the date supplied) and <code class="prettyprint">start_date__lte</code> (before or on the date supplied)</td>
</tr>
<tr>
<td style="text-align: left">end_date</td>
<td style="text-align: left">Filter by end date. Valid filtering values are <code class="prettyprint">end_date__gte</code> (after or on the date supplied) and <code class="prettyprint">end_date__lte</code> (before or on the date supplied)</td>
</tr>
<tr>
<td style="text-align: left">object</td>
<td style="text-align: left">Filter by resource URI of the related object. This filter can only be combined with &lsquo;include_related&rsquo; filter</td>
</tr>
<tr>
<td style="text-align: left">include_related</td>
<td style="text-align: left">There is a parent-child relationship between Docker Cloud objects, described in table <code class="prettyprint">Relationships between Docker Cloud objects</code>. If set to &#39;true&rsquo;, will include the actions of the related objects to the object specified in &ldquo;object&rdquo; filter parameter. Possible values: &#39;true&rsquo; or &#39;false&rsquo;</td>
</tr>
</tbody></table>

<h2 id="relationships-between-docker-cloud-objects">Relationships between Docker Cloud objects</h2>

<table><thead>
<tr>
<th style="text-align: left">Object</th>
<th style="text-align: left">Relationships</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">Container</td>
<td style="text-align: left">Container, service, stack (if any)</td>
</tr>
<tr>
<td style="text-align: left">Service</td>
<td style="text-align: left">All containers in the service, service, stack (if any)</td>
</tr>
<tr>
<td style="text-align: left">Stack</td>
<td style="text-align: left">All services in the stack, all containers in every service in the stack, stack</td>
</tr>
<tr>
<td style="text-align: left">Node</td>
<td style="text-align: left">Node, node cluster (if any)</td>
</tr>
<tr>
<td style="text-align: left">Node cluster</td>
<td style="text-align: left">All nodes in the cluster, node cluster</td>
</tr>
</tbody></table>

<h2 id="get-an-action-by-uuid">Get an action by UUID</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">action</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Action</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">action</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetAction</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">action</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/audit/v1/action/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud action inspect 7eaf7fff
</code></pre>

<p>Get all the details of an specific action</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/audit/v1/action/(uuid)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">uuid</td>
<td style="text-align: left">The UUID of the action to retrieve</td>
</tr>
</tbody></table>

<h2 id="get-the-logs-of-an-action">Get the logs of an action</h2>

<blockquote>
<p>Example log line</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"log"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"log"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Log line from the action"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1433779324</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="k">def</span> <span class="nf">log_handler</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">message</span>

<span class="n">action</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Action</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
<span class="n">action</span><span class="o">.</span><span class="n">logs</span><span class="p">(</span><span class="n">tail</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">log_handler</span><span class="o">=</span><span class="n">log_handler</span><span class="p">)</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">c</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="nb">make</span><span class="p">(</span><span class="k">chan</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">Logs</span><span class="p">)</span><span class="x">
</span><span class="n">action</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetAction</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">go</span><span class="x"> </span><span class="n">action</span><span class="o">.</span><span class="n">GetLogs</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="x">

</span><span class="k">for</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="o">&lt;-</span><span class="n">c</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/audit/v1/action/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/logs/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">ws.cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">Upgrade</span>
<span class="na">Upgrade</span><span class="p">:</span> <span class="s">websocket</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud action logs 7eaf7fff-882c-4f3d-9a8f-a22317ac00ce
</code></pre>

<p>Get the logs of the specified action.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>STREAM API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/audit/v1/action/(uuid)/logs/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">uuid</td>
<td style="text-align: left">The UUID of the action to retrieve logs</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">tail</td>
<td style="text-align: left">Number of lines to show from the end of the logs (default: <code class="prettyprint">300</code>)</td>
</tr>
<tr>
<td style="text-align: left">follow</td>
<td style="text-align: left">Whether to stream logs or close the connection immediately (default: true)</td>
</tr>
</tbody></table>

<h2 id="cancel-an-action">Cancel an action</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/audit/v1/action/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/cancel/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">action</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetAction</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">action</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">action</span><span class="o">.</span><span class="n">Cancel</span><span class="p">()</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">action</span><span class="p">)</span><span class="x">
</span></code></pre>

<p>Cancels an action in Pending or In progress state.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/audit/v1/action/(uuid)/cancel/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">uuid</td>
<td style="text-align: left">The UUID of the action to cancel</td>
</tr>
</tbody></table>

<h2 id="retry-an-action">Retry an action</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="k">def</span> <span class="nf">log_handler</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
  <span class="k">print</span> <span class="n">message</span>

<span class="n">action</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Action</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
<span class="n">action</span><span class="o">.</span><span class="n">logs</span><span class="p">(</span><span class="n">tail</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">log_handler</span><span class="o">=</span><span class="n">log_handler</span><span class="p">)</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/audit/v1/action/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/retry/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">action</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetAction</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">action</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">action</span><span class="o">.</span><span class="n">Retry</span><span class="p">()</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">action</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight shell"><code>docker-cloud action logs 7eaf7fff-882c-4f3d-9a8f-a22317ac00ce
</code></pre>

<p>Retries an action in Success, Failed or Canceled state.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/audit/v1/action/(uuid)/retry/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">uuid</td>
<td style="text-align: left">The UUID of the action to retry</td>
</tr>
</tbody></table>

          <h1 id="providers">Providers</h1>

<h2 id="provider">Provider</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"available"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Digital Ocean"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"digitalocean"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"regions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"/api/infra/v1/region/digitalocean/ams1/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/region/digitalocean/ams2/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/region/digitalocean/ams3/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/region/digitalocean/lon1/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/region/digitalocean/nyc1/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/region/digitalocean/nyc2/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/region/digitalocean/nyc3/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/region/digitalocean/sfo1/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/region/digitalocean/sgp1/"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"resource_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/provider/digitalocean/"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>A provider is a representation of a cloud provider supported by Docker Cloud. Providers have one or more regions where nodes are deployed.</p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>resource_uri</td>
<td>A unique API endpoint that represents the provider</td>
</tr>
<tr>
<td>name</td>
<td>A unique identifier for the provider</td>
</tr>
<tr>
<td>label</td>
<td>A user-friendly name for the provider</td>
</tr>
<tr>
<td>regions</td>
<td>A list of resource URIs of the regions available in this provider</td>
</tr>
<tr>
<td>available</td>
<td>Whether the provider is currently available for new node deployments</td>
</tr>
</tbody></table>

<h2 id="list-all-providers">List all providers</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">providers</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Provider</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/infra/v1/provider/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">providerList</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">ListProviders</span><span class="p">()</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">providerList</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight shell"><code>docker-cloud nodecluster provider
</code></pre>

<p>Lists all supported cloud providers. Returns a list of <code class="prettyprint">Provider</code> objects.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/infra/v1/provider/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Filter by provider name</td>
</tr>
</tbody></table>

<h2 id="get-an-individual-provider">Get an individual provider</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">provider</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Provider</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"digitalocean"</span><span class="p">)</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">provider</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetProvider</span><span class="p">(</span><span class="s">"digitalocean"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">provider</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/infra/v1/provider/digitalocean/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>

<p>Get all the details of a specific provider</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/infra/v1/provider/(name)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>The name of the provider to retrieve</td>
</tr>
</tbody></table>

          <h1 id="regions">Regions</h1>

<h2 id="region">Region</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"availability_zones"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"available"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Amsterdam 2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ams2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"node_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"/api/infra/v1/nodetype/digitalocean/1gb/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/nodetype/digitalocean/2gb/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/nodetype/digitalocean/4gb/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/nodetype/digitalocean/8gb/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/nodetype/digitalocean/16gb/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/nodetype/digitalocean/32gb/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/nodetype/digitalocean/48gb/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/nodetype/digitalocean/64gb/"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/provider/digitalocean/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"resource_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/region/digitalocean/ams2/"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>A region is a representation of an entire or a subset of a data center of a cloud provider. It can contain availability zones (depending on the provider) and one or more node types.</p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>resource_uri</td>
<td>A unique API endpoint that represents the region</td>
</tr>
<tr>
<td>name</td>
<td>An identifier for the region</td>
</tr>
<tr>
<td>label</td>
<td>A user-friendly name for the region</td>
</tr>
<tr>
<td>node_types</td>
<td>A list of resource URIs of the node types available in the region</td>
</tr>
<tr>
<td>availability_zones</td>
<td>A list of resource URIs of the availability zones available in the region</td>
</tr>
<tr>
<td>provider</td>
<td>The resource URI of the provider of the region</td>
</tr>
<tr>
<td>available</td>
<td>Whether the region is currently available for new node deployments</td>
</tr>
</tbody></table>

<h2 id="list-all-regions">List all regions</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">regions</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Region</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/infra/v1/region/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">regionList</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">ListRegions</span><span class="p">()</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">regionList</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight shell"><code>docker-cloud nodecluster region
</code></pre>

<p>Lists all regions of all supported cloud providers. Returns a list of <code class="prettyprint">Region</code> objects.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/infra/v1/region/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Filter by region name</td>
</tr>
<tr>
<td>provider</td>
<td>Filter by resource URI of the target provider</td>
</tr>
</tbody></table>

<h2 id="get-an-individual-region">Get an individual region</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">region</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Region</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"digitalocean/lon1"</span><span class="p">)</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">region</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetRegion</span><span class="p">(</span><span class="s">"digitalocean"</span><span class="p">,</span><span class="s">"lon1"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">region</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/infra/v1/region/digitalocean/lon1/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>

<p>Get all the details of a specific region</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/infra/v1/region/(provider.name)/(name)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>The name of the region to retrieve</td>
</tr>
<tr>
<td>provider.name</td>
<td>The name of the provider of the region</td>
</tr>
</tbody></table>

          <h1 id="availability-zones">Availability Zones</h1>

<h2 id="availability-zone">Availability Zone</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"available"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ap-northeast-1a"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/region/az/ap-northeast-1/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"resource_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/az/aws/ap-northeast-1/ap-northeast-1a/"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>An Availability Zone is an isolated location inside a region. Providers that support availability zones: AWS</p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>available</td>
<td>Whether the availability zone is currently available for new node deployments</td>
</tr>
<tr>
<td>name</td>
<td>An identifier for the availability zone</td>
</tr>
<tr>
<td>region</td>
<td>The resource URI of the region where the availability zone is allocated</td>
</tr>
<tr>
<td>resource_uri</td>
<td>A unique API endpoint that represents the zone</td>
</tr>
</tbody></table>

<h2 id="list-all-availability-zones">List all availability zones</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">az</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">AZ</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/infra/v1/az/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">az</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">ListAZ</span><span class="p">()</span><span class="x">
</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">az</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight shell"><code>docker-cloud nodecluster az
</code></pre>

<p>Lists all availability zones from all regions of all supported cloud providers. Returns a list of <code class="prettyprint">Availability Zone</code> objects.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/infra/v1/az/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Filter by availability zone name</td>
</tr>
<tr>
<td>region</td>
<td>Filter by resource URI of the target region</td>
</tr>
</tbody></table>

<h2 id="get-an-individual-availability-zone">Get an individual availability zone</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">az</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">AZ</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"aws/sa-east-1/sa-east-1a"</span><span class="p">)</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">az</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetAZ</span><span class="p">(</span><span class="s">"aws/sa-east-1/sa-east-1a"</span><span class="p">)</span><span class="x">
</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">az</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/infra/v1/az/aws/sa-east-1/sa-east-1a/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>

<p>Get all the details of a specific availability zone</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/infra/v1/az/(provider.name)/(region.name)/(name)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>The name of the availability zone to retrieve</td>
</tr>
<tr>
<td>provider</td>
<td>The name of the provider</td>
</tr>
<tr>
<td>region</td>
<td>The name of the region</td>
</tr>
</tbody></table>

          <h1 id="node-types">Node Types</h1>

<h2 id="node-type">Node Type</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"availability_zones"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"available"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1GB"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1gb"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/provider/digitalocean/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"regions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"/api/infra/v1/region/digitalocean/ams1/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/region/digitalocean/sfo1/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/region/digitalocean/nyc2/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/region/digitalocean/ams2/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/region/digitalocean/sgp1/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/region/digitalocean/lon1/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/region/digitalocean/nyc3/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"/api/infra/v1/region/digitalocean/nyc1/"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"resource_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/nodetype/digitalocean/1gb/"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>A node type is a representation of an instance size supported by a certain cloud provider in a certain region and/or availability zone.</p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>resource_uri</td>
<td>A unique API endpoint that represents the node type</td>
</tr>
<tr>
<td>name</td>
<td>An identifier for the node type</td>
</tr>
<tr>
<td>label</td>
<td>A user-friendly name for the node type</td>
</tr>
<tr>
<td>regions</td>
<td>A list of resource URIs of the regions to which this node type can be deployed to</td>
</tr>
<tr>
<td>availability_zones</td>
<td>A list of resource URIs of the availability zones to which this node type can be deployed to</td>
</tr>
<tr>
<td>provider</td>
<td>The resource URI of the provider of the node type</td>
</tr>
<tr>
<td>available</td>
<td>Whether the node type is currently available for new node deployments</td>
</tr>
</tbody></table>

<h2 id="list-all-node-types">List all node types</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">nodetypes</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">NodeType</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">nodetypeList</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">ListNodeTypes</span><span class="p">()</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">nodetypeList</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/infra/v1/nodetype/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud nodecluster nodetype
</code></pre>

<p>Lists all node types of all supported cloud providers. Returns a list of <code class="prettyprint">NodeType</code> objects.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/infra/v1/nodetype/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Filter by node type name</td>
</tr>
<tr>
<td>regions</td>
<td>Filter by resource URI of the target regions</td>
</tr>
<tr>
<td>availability_zones</td>
<td>Filter by resource URI of the target availability zones</td>
</tr>
</tbody></table>

<h2 id="get-an-individual-node-type">Get an individual node type</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">nodetype</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">NodeType</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"digitalocean/1gb"</span><span class="p">)</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">nodetype</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetNodeType</span><span class="p">(</span><span class="s">"digitalocean"</span><span class="p">,</span><span class="s">"1gb"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">nodetype</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/infra/v1/nodetype/digitalocean/1gb/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>

<p>Get all the details of a specific node type</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/infra/v1/nodetype/(provider.name)/(name)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>The name of the node type to retrieve</td>
</tr>
<tr>
<td>provider.name</td>
<td>The name of the provider of the node type</td>
</tr>
</tbody></table>

          <h1 id="node-clusters">Node Clusters</h1>

<h2 id="node-cluster">Node Cluster</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"current_num_nodes"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"deployed_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tue, 16 Sep 2014 17:01:15 +0000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"destroyed_datetime"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"disk"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nickname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my test cluster"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestCluster"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"node_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/nodetype/aws/t2.micro/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nodes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"/api/infra/v1/user_namespace/node/75d20367-0948-4f10-8ba4-ffb4d16ed3c6/"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/region/aws/us-east-1/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"resource_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/user_namespace/nodecluster/5516df0b-721e-4470-b350-741ff22e63a0/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deployed"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag_one"</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag-two"</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tagthree3"</span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"target_num_nodes"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5516df0b-721e-4470-b350-741ff22e63a0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"provider_options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"vpc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vpc-aa1c70d4"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"subnets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"subnet-aaa7d94f"</span><span class="p">,</span><span class="w"> </span><span class="s2">"subnet-aa15fa64"</span><span class="p">],</span><span class="w">
            </span><span class="nt">"security_groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"sg-aa1c70d4"</span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"iam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"instance_profile_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_instance_profile"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>A node cluster is a group of nodes that share the same provider, region and/or availability zone, and node type. They are on the same private network.</p>

<p>This is a <a href="#namespaced-endpoints">namespaced endpoint</a>.</p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>A unique identifier for the node cluster generated automatically on creation</td>
</tr>
<tr>
<td>resource_uri</td>
<td>A unique API endpoint that represents the node cluster</td>
</tr>
<tr>
<td>name</td>
<td>A user provided name for the node cluster</td>
</tr>
<tr>
<td>state</td>
<td>The state of the node cluster. See the below table for a list of possible states.</td>
</tr>
<tr>
<td>node_type</td>
<td>The resource URI of the node type used for the node cluster</td>
</tr>
<tr>
<td>disk</td>
<td>The size of the disk where images and containers are stored (in GB)</td>
</tr>
<tr>
<td>nodes</td>
<td>A list of resource URIs of the <code class="prettyprint">Node</code> objects on the node cluster</td>
</tr>
<tr>
<td>region</td>
<td>The resource URI of the <code class="prettyprint">Region</code> object where the node cluster is deployed</td>
</tr>
<tr>
<td>target_num_nodes</td>
<td>The desired number of nodes for the node cluster</td>
</tr>
<tr>
<td>current_num_nodes</td>
<td>The actual number of nodes in the node cluster. This may differ from <code class="prettyprint">target_num_nodes</code> if the node cluster is being deployed or scaled</td>
</tr>
<tr>
<td>deployed_datetime</td>
<td>The date and time when this node cluster was deployed</td>
</tr>
<tr>
<td>destroyed_datetime</td>
<td>The date and time when this node cluster was terminated (if applicable)</td>
</tr>
<tr>
<td>tags</td>
<td>List of tags to identify the node cluster nodes when deploying services (see <a href="/docker-cloud/apps/deploy-tags/">Tags</a> for more information)</td>
</tr>
<tr>
<td>provider_options</td>
<td>Provider-specific extra options for the deployment of the node (see <code class="prettyprint">Provider options</code> table below for more information)</td>
</tr>
<tr>
<td>nickname</td>
<td>A user-friendly name for the node cluster (<code class="prettyprint">name</code> by default)</td>
</tr>
</tbody></table>

<h3 id="node-cluster-states">Node Cluster states</h3>

<table><thead>
<tr>
<th>State</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Init</td>
<td>The node cluster has been created and has no deployed containers yet. Possible actions in this state: <code class="prettyprint">deploy</code>, <code class="prettyprint">terminate</code>.</td>
</tr>
<tr>
<td>Deploying</td>
<td>All nodes in the cluster are either deployed or being deployed. No actions allowed in this state.</td>
</tr>
<tr>
<td>Deployed</td>
<td>All nodes in the cluster are deployed and provisioned. Possible actions in this state: <code class="prettyprint">terminate</code>.</td>
</tr>
<tr>
<td>Partly deployed</td>
<td>One or more nodes of the cluster are deployed and running. Possible actions in this state: <code class="prettyprint">terminate</code>.</td>
</tr>
<tr>
<td>Scaling</td>
<td>The cluster is either deploying new nodes or terminating existing ones responding to a scaling request. No actions allowed in this state.</td>
</tr>
<tr>
<td>Terminating</td>
<td>All nodes in the cluster are either being terminated or already terminated. No actions allowed in this state.</td>
</tr>
<tr>
<td>Terminated</td>
<td>The node cluster and all its nodes have been terminated. No actions allowed in this state.</td>
</tr>
<tr>
<td>Empty cluster</td>
<td>There are no nodes deployed in this cluster. Possible actions in this state: <code class="prettyprint">terminate</code>.</td>
</tr>
</tbody></table>

<h3 id="provider-options">Provider options</h3>

<p>You can specify the following options when using the Amazon Web Services provider:</p>

<ul>
<li><code class="prettyprint">vpc</code>: VPC-related options (optional)

<ul>
<li><code class="prettyprint">id</code>: AWS VPC identifier of the target VPC where the nodes of the cluster will be deployed (required)</li>
<li><code class="prettyprint">subnets</code>: a list of target subnet indentifiers inside selected VPC. If you specify more than one subnet, Docker Cloud will balance among all of them following a high-availability schema (optional)</li>
<li><code class="prettyprint">security_groups</code>: the security group that will be applied to every node of the cluster (optional)</li>
</ul></li>
<li><code class="prettyprint">iam</code>: IAM-related options (optional)

<ul>
<li><code class="prettyprint">instance_profile_name</code>: name of the instance profile (container for instance an IAM role) to attach to every node of the cluster (required)</li>
</ul></li>
</ul>

<h2 id="list-all-node-clusters">List all node clusters</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">nodeclusters</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">NodeCluster</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">nodeclusters</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">ListNodeClusters</span><span class="p">()</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">nodeclusters</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/infra/v1/nodecluster/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud nodecluster ls
</code></pre>

<p>Lists all current and recently terminated node clusters. Returns a list of <code class="prettyprint">NodeCluster</code> objects.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/infra/v1/[optional_namespace/]nodecluster/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>Filter by UUID</td>
</tr>
<tr>
<td>state</td>
<td>Filter by state. Possible values: <code class="prettyprint">Init</code>, <code class="prettyprint">Deploying</code>, <code class="prettyprint">Deployed</code>, <code class="prettyprint">Partly deployed</code>, <code class="prettyprint">Scaling</code>, <code class="prettyprint">Terminating</code>, <code class="prettyprint">Terminated</code>, <code class="prettyprint">Empty cluster</code></td>
</tr>
<tr>
<td>name</td>
<td>Filter by node cluster name</td>
</tr>
<tr>
<td>region</td>
<td>Filter by resource URI of the target region</td>
</tr>
<tr>
<td>node_type</td>
<td>Filter by resource URI of the target node type</td>
</tr>
</tbody></table>

<h2 id="create-a-new-node-cluster">Create a new node cluster</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">region</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Region</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"digitalocean/lon1"</span><span class="p">)</span>
<span class="n">node_type</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">NodeType</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"digitalocean/1gb"</span><span class="p">)</span>
<span class="n">nodecluster</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">NodeCluster</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">"my_cluster"</span><span class="p">,</span> <span class="n">node_type</span><span class="o">=</span><span class="n">node_type</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="n">region</span><span class="p">,</span> <span class="n">disk</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
<span class="n">nodecluster</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">nodecluster</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">CreateNodeCluster</span><span class="p">(</span><span class="n">dockercloud</span><span class="o">.</span><span class="n">NodeCreateRequest</span><span class="p">{</span><span class="n">Name</span><span class="o">:</span><span class="x"> </span><span class="s">"my_cluster"</span><span class="p">,</span><span class="x"> </span><span class="n">Region</span><span class="o">:</span><span class="x"> </span><span class="s">"/api/infra/v1/region/digitalocean/lon1/"</span><span class="p">,</span><span class="x"> </span><span class="n">NodeType</span><span class="o">:</span><span class="x"> </span><span class="s">"/api/infra/v1/nodetype/digitalocean/1gb/"</span><span class="p">,</span><span class="x"> </span><span class="n">Target_num_nodes</span><span class="o">:</span><span class="x"> </span><span class="m">2</span><span class="p">})</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">nodecluster</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/infra/v1/nodecluster/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_cluster"</span><span class="p">,</span><span class="w"> </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/region/digitalocean/lon1/"</span><span class="p">,</span><span class="w"> </span><span class="nt">"node_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/nodetype/digitalocean/1gb/"</span><span class="p">,</span><span class="w"> </span><span class="nt">"disk"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight shell"><code>docker-cloud nodecluster create my_cluster digitalocean lon1 1gb
</code></pre>

<p>Creates a new node cluster without deploying it.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/infra/v1/[optional_namespace/]nodecluster/</code></p>

<h3 id="json-parameters">JSON Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>(required) A user provided name for the node cluster</td>
</tr>
<tr>
<td>node_type</td>
<td>(required) The resource URI of the node type to be used for the node cluster</td>
</tr>
<tr>
<td>region</td>
<td>(required) The resource URI of the region where the node cluster is to be deployed</td>
</tr>
<tr>
<td>disk</td>
<td>(optional) The size of the volume to create where images and containers will be stored, in GB (default: <code class="prettyprint">60</code>). Not available for Digital Ocean. To create Softlayer nodes you must select one of the following sizes (in GBs): 10, 20, 25, 30, 40, 50, 75, 100, 125, 150, 175, 200, 250, 300, 350, 400, 500, 750, 1000, 1500 or 2000</td>
</tr>
<tr>
<td>nickname</td>
<td>(optional) A user-friendly name for the node cluster (<code class="prettyprint">name</code> by default)</td>
</tr>
<tr>
<td>target_num_nodes</td>
<td>(optional) The desired number of nodes for the node cluster (default: <code class="prettyprint">1</code>)</td>
</tr>
<tr>
<td>tags</td>
<td>(optional) List of tags of the node cluster to be used when deploying services see <a href="/docker-cloud/apps/deploy-tags/">Tags</a> for more information) (default: <code class="prettyprint">[]</code>)</td>
</tr>
<tr>
<td>provider_options</td>
<td>Provider-specific extra options for the deployment of the node (see table <code class="prettyprint">Provider options</code> above for more information)</td>
</tr>
</tbody></table>

<h2 id="get-an-existing-node-cluster">Get an existing node cluster</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">service</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">NodeCluster</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">nodecluster</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetNodeCluster</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">nodecluster</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/infra/v1/nodecluster/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud nodecluster inspect 7eaf7fff
</code></pre>

<p>Get all the details of an specific node cluster</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/infra/v1/[optional_namespace/]nodecluster/(uuid)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the node cluster to retrieve</td>
</tr>
</tbody></table>

<h2 id="deploy-a-node-cluster">Deploy a node cluster</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">nodecluster</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">NodeCluster</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
<span class="n">nodecluster</span><span class="o">.</span><span class="n">deploy</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">nodecluster</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetNodeCluster</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">nodecluster</span><span class="o">.</span><span class="n">Deploy</span><span class="p">();</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
   </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/infra/v1/nodecluster/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/deploy/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>

<p>Deploys and provisions a recently created node cluster in the specified region and cloud provider.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/infra/v1/[optional_namespace/]nodecluster/(uuid)/deploy/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the node cluster to deploy</td>
</tr>
</tbody></table>

<h2 id="update-an-existing-node-cluster">Update an existing node cluster</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">nodecluster</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">NodeCluster</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
<span class="n">nodecluster</span><span class="o">.</span><span class="n">target_num_nodes</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">nodecluster</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">"tag-1"</span><span class="p">)</span>
<span class="n">nodecluster</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">nodecluster</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetNodeCluster</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">nodecluster</span><span class="o">.</span><span class="n">Update</span><span class="p">(</span><span class="n">dockercloud</span><span class="o">.</span><span class="n">NodeCreateRequest</span><span class="p">{</span><span class="n">Target_num_nodes</span><span class="o">:</span><span class="x"> </span><span class="m">4</span><span class="p">});</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
   </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">PATCH</span> <span class="nn">/api/infra/v1/nodecluster/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="nt">"target_num_nodes"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag-1"</span><span class="p">}]}</span><span class="w">
</span></code></pre>
<pre class="highlight shell"><code>docker-cloud nodecluster scale 7eaf7fff 3
docker-cloud tag add -t tag-1 7eaf7fff
docker-cloud tag <span class="nb">set</span> -t tag-2 7eaf7fff
</code></pre>

<p>Updates the node cluster details and applies the changes automatically.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH /api/infra/v1/[optional_namespace/]nodecluster/(uuid)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the node cluster to update</td>
</tr>
</tbody></table>

<h3 id="json-parameters">JSON Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>target_num_nodes</td>
<td>(optional) The number of nodes to scale this node cluster to</td>
</tr>
<tr>
<td>tags</td>
<td>(optional) List of tags the node cluster (and nodes within the node cluster) will have. This operation replaces the user tag list.</td>
</tr>
</tbody></table>

<h2 id="terminate-a-node-cluster">Terminate a node cluster</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">nodecluster</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">NodeCluster</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
<span class="n">nodecluster</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">nodecluster</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetNodeCluster</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">nodecluster</span><span class="o">.</span><span class="n">Terminate</span><span class="p">();</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
   </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/api/infra/v1/nodecluster/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>dockercloud nodecluster rm 7eaf7fff
</code></pre>

<p>Terminates all the nodes in a node cluster and the node cluster itself. This is not reversible.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /api/infra/v1/[optional_namespace/]nodecluster/(uuid)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the node cluster to terminate</td>
</tr>
</tbody></table>

          <h1 id="nodes">Nodes</h1>

<h2 id="node">Node</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"availability_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/az/testing-provider/testing-region/testing-az/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cpu"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_num_containers"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nt">"deployed_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tue, 16 Sep 2014 17:01:15 +0000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"destroyed_datetime"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"disk"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
    </span><span class="nt">"docker_execdriver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"native-0.2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"docker_graphdriver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aufs"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"docker_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.5.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"external_fqdn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fc1a5bb9-user.node.dockerapp.io"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_seen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 25 Sep 2014 13:14:44 +0000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"memory"</span><span class="p">:</span><span class="w"> </span><span class="mi">1792</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nickname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fc1a5bb9-user.node.dockerapp.io"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"node_cluster"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/user_namespace/nodecluster/d787a4b7-d525-4061-97a0-f423e8f1d229/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"node_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/user_namespace/nodetype/testing-provider/testing-type/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"public_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.45.2.11"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/region/testing-provider/testing-region/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"resource_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/user_namespace/node/fc1a5bb9-17f5-4819-b667-8c7cd819e949/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deployed"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag_one"</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag-two"</span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"tunnel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://tunnel01.cloud.docker.com:12345"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fc1a5bb9-17f5-4819-b667-8c7cd819e949"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>A node is a virtual machine provided by a cloud provider where containers can be deployed.</p>

<p>This is a <a href="#namespaced-endpoints">namespaced endpoint</a>.</p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>availability_zone</td>
<td>The resource URI of the availability zone where the node is deployed, if any</td>
</tr>
<tr>
<td>uuid</td>
<td>A unique identifier for the node generated automatically on creation</td>
</tr>
<tr>
<td>resource_uri</td>
<td>A unique API endpoint that represents the node</td>
</tr>
<tr>
<td>external_fqdn</td>
<td>An automatically generated FQDN for the node. Containers deployed on this node will inherit this FQDN.</td>
</tr>
<tr>
<td>state</td>
<td>The state of the node. See the below table for a list of possible states.</td>
</tr>
<tr>
<td>node_cluster</td>
<td>The resource URI of the node cluster to which this node belongs to (if applicable)</td>
</tr>
<tr>
<td>node_type</td>
<td>The resource URI of the node type used for the node</td>
</tr>
<tr>
<td>region</td>
<td>The resource URI of the region where the node is deployed</td>
</tr>
<tr>
<td>docker_execdriver</td>
<td>Docker&rsquo;s execution driver used in the node</td>
</tr>
<tr>
<td>docker_graphdriver</td>
<td>Docker&rsquo;s storage driver used in the node</td>
</tr>
<tr>
<td>docker_version</td>
<td>Docker&rsquo;s version used in the node</td>
</tr>
<tr>
<td>cpu</td>
<td>Node number of CPUs</td>
</tr>
<tr>
<td>disk</td>
<td>Node storage size in GB</td>
</tr>
<tr>
<td>memory</td>
<td>Node memory in MB</td>
</tr>
<tr>
<td>current_num_containers</td>
<td>The actual number of containers deployed in this node</td>
</tr>
<tr>
<td>last_seen</td>
<td>Date and time of the last time the node was contacted by Docker Cloud</td>
</tr>
<tr>
<td>public_ip</td>
<td>The public IP allocated to the node</td>
</tr>
<tr>
<td>tunnel</td>
<td>If the node does not accept incoming connections to port 2375, the address of the reverse tunnel to access the docker daemon, or <code class="prettyprint">null</code> otherwise</td>
</tr>
<tr>
<td>deployed_datetime</td>
<td>The date and time when this node cluster was deployed</td>
</tr>
<tr>
<td>destroyed_datetime</td>
<td>The date and time when this node cluster was terminated (if applicable)</td>
</tr>
<tr>
<td>tags</td>
<td>List of tags to identify the node when deploying services (see <a href="/docker-cloud/apps/deploy-tags/">Tags</a> for more information)</td>
</tr>
<tr>
<td>nickname</td>
<td>A user-friendly name for the node (<code class="prettyprint">external_fqdn</code> by default)</td>
</tr>
</tbody></table>

<h3 id="node-states">Node states</h3>

<table><thead>
<tr>
<th>State</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Deploying</td>
<td>The node is being deployed in the cloud provider. No actions allowed in this state.</td>
</tr>
<tr>
<td>Deployed</td>
<td>The node is deployed and provisioned and is ready to deploy containers. Possible actions in this state: <code class="prettyprint">terminate</code>, <code class="prettyprint">docker-upgrade</code>.</td>
</tr>
<tr>
<td>Unreachable</td>
<td>The node is deployed but Docker Cloud cannot connect to the docker daemon. Possible actions in this state: <code class="prettyprint">health-check</code> and <code class="prettyprint">terminate</code>.</td>
</tr>
<tr>
<td>Upgrading</td>
<td>The node docker daemon is being upgraded. No actions allowed in this state.</td>
</tr>
<tr>
<td>Terminating</td>
<td>The node is being terminated in the cloud provider. No actions allowed in this state.</td>
</tr>
<tr>
<td>Terminated</td>
<td>The node has been terminated and is no longer present in the cloud provider. No actions allowed in this state.</td>
</tr>
</tbody></table>

<h2 id="list-all-nodes">List all nodes</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">nodes</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Node</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">nodeList</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">ListNodes</span><span class="p">()</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">nodeList</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/infra/v1/node/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud node ls
</code></pre>

<p>Lists all current and recently terminated nodes. Returns a list of <code class="prettyprint">Node</code> objects.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/infra/v1/[optional_namespace/]node/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>Filter by UUID</td>
</tr>
<tr>
<td>state</td>
<td>Filter by state. Possible values: <code class="prettyprint">Deploying</code>, <code class="prettyprint">Deployed</code>, <code class="prettyprint">Unreachable</code>, <code class="prettyprint">Upgrading</code>, <code class="prettyprint">Terminating</code>, <code class="prettyprint">Terminated</code></td>
</tr>
<tr>
<td>node_cluster</td>
<td>Filter by resource URI of the target node cluster</td>
</tr>
<tr>
<td>node_type</td>
<td>Filter by resource URI of the target node type</td>
</tr>
<tr>
<td>region</td>
<td>Filter by resource URI of the target region</td>
</tr>
<tr>
<td>docker_version</td>
<td>Filter by Docker engine version running in the nodes</td>
</tr>
</tbody></table>

<h2 id="get-an-existing-node">Get an existing node</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">node</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Node</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">node</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetNode</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">node</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/infra/v1/node/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud node inspect 7eaf7fff
</code></pre>

<p>Get all the details of an specific node</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/infra/v1/[optional_namespace/]node/(uuid)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the node to retrieve</td>
</tr>
</tbody></table>

<h2 id="update-a-node">Update a node</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">node</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Node</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
<span class="n">node</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">add</span><span class="p">([</span><span class="s">"tag-1"</span><span class="p">])</span>
<span class="n">node</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">node</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetNode</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">node</span><span class="o">.</span><span class="n">Update</span><span class="p">(</span><span class="n">dockercloud</span><span class="o">.</span><span class="n">Node</span><span class="p">{</span><span class="n">Tags</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{{</span><span class="n">Name</span><span class="o">:</span><span class="x"> </span><span class="s">"tag-1"</span><span class="p">}}});</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">PATCH</span> <span class="nn">/api/infra/v1/node/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>

{"tags": [{"name": "tag-1"}], "nickname": "dev node"}
</code></pre>
<pre class="highlight shell"><code>docker-cloud tag add -t tag-1 7eaf7fff
docker-cloud tag <span class="nb">set</span> -t tag-2 7eaf7fff
</code></pre>

<p>Names the node with a user-friendly name and/or replaces the old tags for the new list provided.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH /api/infra/v1/[optional_namespace/]node/(uuid)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the node to retrieve</td>
</tr>
</tbody></table>

<h3 id="json-parameters">JSON Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>nickname</td>
<td>(optional) A user-friendly name for the node (<code class="prettyprint">external_fqdn</code> by default)</td>
</tr>
<tr>
<td>tags</td>
<td>(optional) List of tags the node will have. This operation replaces the user tag list.</td>
</tr>
</tbody></table>

<h2 id="upgrade-docker-daemon">Upgrade Docker Daemon</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">node</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Node</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
<span class="n">node</span><span class="o">.</span><span class="n">upgrade_docker</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">node</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetNode</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">node</span><span class="o">.</span><span class="n">Upgrade</span><span class="p">();</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
       </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
   </span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/infra/v1/node/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/docker-upgrade/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud node upgrade 7eaf7fff
</code></pre>

<p>Upgrades the docker daemon of the node. This will restart your containers on that node. See <a href="/docker-cloud/infrastructure/docker-upgrade/">Docker upgrade</a> for more information.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/infra/v1/[optional_namespace/]node/(uuid)/docker-upgrade/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the node to upgrade</td>
</tr>
</tbody></table>

<h2 id="perform-a-health-check-of-a-node">Perform a health check of a node</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/infra/v1/node/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/health-check/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>

<p>Tests connectivity between Docker Cloud and the node. Updates the node status to <code class="prettyprint">Deployed</code> if the check was successful, or to <code class="prettyprint">Unreachable</code> otherwise.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/infra/v1/[optional_namespace/]node/(uuid)/health-check/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the node to perform the health check to</td>
</tr>
</tbody></table>

<h2 id="terminate-a-node">Terminate a node</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">node</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Node</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
<span class="n">node</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/api/infra/v1/node/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">node</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetNode</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">node</span><span class="o">.</span><span class="n">Terminate</span><span class="p">();</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
   </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight shell"><code>docker-cloud node rm 7eaf7fff
</code></pre>

<p>Terminates the specified node.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /api/infra/v1/[optional_namespace/]node/(uuid)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the node to terminate</td>
</tr>
</tbody></table>

          <h1 id="registries">Registries</h1>

<h2 id="registry">Registry</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"registry-1.docker.io"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_docker_registry"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_ssl"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Docker Hub"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"port"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/repo/v1/user_namespace/registry/registry-1.docker.io/"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Represents a registry where repositories are hosted.</p>

<p>This is a <a href="#namespaced-endpoints">namespaced endpoint</a>.</p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>resource_uri</td>
<td>A unique API endpoint that represents the registry</td>
</tr>
<tr>
<td>name</td>
<td>Human-readable name of the registry</td>
</tr>
<tr>
<td>host</td>
<td>FQDN of the registry, i.e. <code class="prettyprint">registry-1.docker.io</code></td>
</tr>
<tr>
<td>is_docker_registry</td>
<td>Whether this registry is run by Docker</td>
</tr>
<tr>
<td>is_ssl</td>
<td>Whether this registry has SSL activated or not</td>
</tr>
<tr>
<td>port</td>
<td>The port number where the registry is listening to</td>
</tr>
</tbody></table>

<h2 id="list-all-registries">List all registries</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/repo/v1/registry/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>

<p>Lists all current registries. Returns a list of <code class="prettyprint">Registry</code> objects.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/repo/v1/[optional_namespace/]registry/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>Filter by UUID</td>
</tr>
<tr>
<td>name</td>
<td>Filter by registry name</td>
</tr>
<tr>
<td>host</td>
<td>Filter by registry host</td>
</tr>
<tr>
<td>is_docker_registry</td>
<td>Filter by whether the registry is run by Docker or not. Possible values: &lsquo;true&rsquo; or &#39;false&rsquo;</td>
</tr>
</tbody></table>

<h2 id="get-an-existing-registry">Get an existing registry</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/repo/v1/registry/registry-1.docker.io/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>

<p>Gets all the details of an specific registry</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v1/[optional_namespace/]registry/(host)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>host</td>
<td>The host of the registry to retrieve</td>
</tr>
</tbody></table>

          <h1 id="external-repositories">External Repositories</h1>

<h2 id="external-repository">External Repository</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"in_use"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my.registry.com/myrepo"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"registry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/repo/v1/user_namespace/registry/my.registry.com/"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/repo/v1/user_namespace/repository/my.registry.com/myrepo/"</span><span class="p">,</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<p>The <code class="prettyprint">repository</code> endpoint is used to add and remove existing repositories on third party registries to be used in deployments and builds.</p>

<p>This is a <a href="#namespaced-endpoints">namespaced endpoint</a>.</p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>resource_uri</td>
<td>A unique API endpoint that represents the repository</td>
</tr>
<tr>
<td>name</td>
<td>Name of the repository, i.e. <code class="prettyprint">my.registry.com/myrepo</code></td>
</tr>
<tr>
<td>in_use</td>
<td>If the image is being used by any of your services</td>
</tr>
<tr>
<td>registry</td>
<td>Resource URI of the registry where this image is hosted</td>
</tr>
</tbody></table>

<h2 id="list-all-external-repositories">List all external repositories</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">repositories</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Repository</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/repo/v1/repository/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">repositoriesList</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">ListRepositories</span><span class="p">()</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Pringln</span><span class="p">(</span><span class="n">repositoriesList</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight shell"><code>docker-cloud repository ls
</code></pre>

<p>Lists all added repositories from third party registries. Returns a list of <code class="prettyprint">Repository</code> objects.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/repo/v1/[optional_namespace/]repository/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Filter by image name</td>
</tr>
<tr>
<td>registry</td>
<td>Filter by resource URI of the target repository registry</td>
</tr>
</tbody></table>

<h2 id="add-a-new-external-repository">Add a new external repository</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">repository</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Repository</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">"registry.local/user1/image1"</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">)</span>
<span class="n">repository</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/repo/v1/repository/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"registry.local/user1/image1"</span><span class="p">,</span><span class="w"> </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w"> </span><span class="nt">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">image</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">CreateImage</span><span class="p">(</span><span class="n">dockercloud</span><span class="o">.</span><span class="n">ImageCreateRequest</span><span class="p">{</span><span class="x">
  </span><span class="n">Name</span><span class="o">:</span><span class="x"> </span><span class="s">"registry.local/user1/image1"</span><span class="p">,</span><span class="x">
  </span><span class="n">Username</span><span class="o">:</span><span class="x"> </span><span class="s">"username"</span><span class="p">,</span><span class="x">
  </span><span class="n">Password</span><span class="o">:</span><span class="x"> </span><span class="s">"password"</span><span class="x">
</span><span class="p">})</span><span class="x">
</span></code></pre>
<pre class="highlight shell"><code>docker-cloud repository register -u username -p password registry.local/user1/image1
</code></pre>

<p>Adds an existing repository on a third party registry.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/repo/v1/[optional_namespace/]repository/</code></p>

<h3 id="json-parameters">JSON Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Name of the repository, i.e. &lsquo;my.registry.com/myrepo&rsquo;</td>
</tr>
<tr>
<td>username</td>
<td>Username to authenticate with the third party registry</td>
</tr>
<tr>
<td>password</td>
<td>Password to authenticate with the third party registry</td>
</tr>
</tbody></table>

<h2 id="get-an-external-repository-details">Get an external repository details</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">repository</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Repository</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"registry.local/user1/image1"</span><span class="p">)</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/repo/v1/repository/registry.local/user1/image1/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">repository</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetRepository</span><span class="p">(</span><span class="s">"registry.local/user1/image1"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">repository</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight shell"><code>docker-cloud repository inspect registry.local/user1/image1
</code></pre>

<p>Gets all the details of an specific repository</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/repo/v1/[optional_namespace/]repository/(name)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>The name of the repository to retrieve</td>
</tr>
</tbody></table>

<h2 id="update-credentials-of-an-external-repository">Update credentials of an external repository</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">repository</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Repository</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"registry.local/user1/image1"</span><span class="p">)</span>
<span class="n">repository</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="s">"new username"</span>
<span class="n">repository</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="s">"new password"</span>
<span class="n">repository</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PATCH</span> <span class="nn">/api/repo/v1/repository/registry.local/user1/image1/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w"> </span><span class="nt">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight shell"><code>docker-cloud repository update -n <span class="s2">"new username"</span> -p <span class="s2">"new password"</span> registry.local/user1/image1
</code></pre>

<p>Updates the external repository credentials.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH /api/repo/v1/[optional_namespace/]repository/(name)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>The name of the repository to update</td>
</tr>
</tbody></table>

<h3 id="json-parameters">JSON Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>Username to authenticate with the private registry</td>
</tr>
<tr>
<td>password</td>
<td>Password to authenticate with the private registry</td>
</tr>
</tbody></table>

<h2 id="remove-an-external-repository">Remove an external repository</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">repository</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Repository</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"registry.local/user1/image1"</span><span class="p">)</span>
<span class="n">repository</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/api/repo/v1/repository/registry.local/user1/image1/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">repository</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetRepository</span><span class="p">(</span><span class="s">"registry.local/user1/image1"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">repository</span><span class="o">.</span><span class="n">Remove</span><span class="p">()</span><span class="x">
</span></code></pre>
<pre class="highlight shell"><code>docker-cloud repository rm registry.local/user1/image1
</code></pre>

<p>Removes the external repository from Docker Cloud. It won&rsquo;t remove the repository from the third party registry where it&rsquo;s stored.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /api/repo/v1/[optional_namespace/]repository/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>The name of the external repository to remove</td>
</tr>
</tbody></table>

          <h1 id="stacks">Stacks</h1>

<h2 id="stack">Stack</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"deployed_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mon, 13 Oct 2014 11:01:43 +0000"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"destroyed_datetime"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"nickname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deployment stack"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dockercloud-app"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/app/v1/user_namespace/stack/7fe7ec85-58be-4904-81da-de2219098d7c/"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"/api/app/v1/user_namespace/service/09cbcf8d-a727-40d9-b420-c8e18b7fa55b/"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Running"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"synchronized"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"09cbcf8d-a727-40d9-b420-c8e18b7fa55b"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>A stack is a logical grouping of closely related services, that may be linked with one another.</p>

<p>This is a <a href="#namespaced-endpoints">namespaced endpoint</a>.</p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>A unique identifier for the stack generated automatically on creation</td>
</tr>
<tr>
<td>resource_uri</td>
<td>A unique API endpoint that represents the stack</td>
</tr>
<tr>
<td>name</td>
<td>A user provided name for the stack.</td>
</tr>
<tr>
<td>state</td>
<td>The state of the stack (see table <code class="prettyprint">Stack states</code> below)</td>
</tr>
<tr>
<td>synchronized</td>
<td>Flag indicating if the current stack definition is synchronized with their services.</td>
</tr>
<tr>
<td>services</td>
<td>List of service resource URIs belonging to the stack</td>
</tr>
<tr>
<td>deployed_datetime</td>
<td>The date and time of the last deployment of the stack (if applicable, <code class="prettyprint">null</code> otherwise)</td>
</tr>
<tr>
<td>destroyed_datetime</td>
<td>The date and time of the <code class="prettyprint">terminate</code> operation on the stack (if applicable, <code class="prettyprint">null</code> otherwise)</td>
</tr>
<tr>
<td>nickname</td>
<td>A user-friendly name for the stack (<code class="prettyprint">name</code> by default)</td>
</tr>
</tbody></table>

<h3 id="stack-states">Stack states</h3>

<table><thead>
<tr>
<th>State</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Not Running</td>
<td>The stack has been created and has no deployed services yet. Possible actions in this state: <code class="prettyprint">start</code>, <code class="prettyprint">terminate</code>.</td>
</tr>
<tr>
<td>Starting</td>
<td>All services for the stack are either starting or already running. No actions allowed in this state.</td>
</tr>
<tr>
<td>Running</td>
<td>All services for the service are deployed and running. Possible actions in this state: <code class="prettyprint">redeploy</code>, <code class="prettyprint">terminate</code>.</td>
</tr>
<tr>
<td>Partly running</td>
<td>One or more services of the stack are deployed and running. Possible actions in this state: <code class="prettyprint">redeploy</code>, <code class="prettyprint">terminate</code>.</td>
</tr>
<tr>
<td>Stopping</td>
<td>All services for the stack are either stopping or already stopped. No actions allowed in this state.</td>
</tr>
<tr>
<td>Stopped</td>
<td>All services for the service are stopped. Possible actions in this state: <code class="prettyprint">start</code>, <code class="prettyprint">redeploy</code>, <code class="prettyprint">terminate</code>.</td>
</tr>
<tr>
<td>Redeploying</td>
<td>The stack is redeploying all its services with the updated configuration. No actions allowed in this state.</td>
</tr>
<tr>
<td>Terminating</td>
<td>All services for the stack are either being terminated or already terminated. No actions allowed in this state.</td>
</tr>
<tr>
<td>Terminated</td>
<td>The stack and all its services have been terminated. No actions allowed in this state.</td>
</tr>
</tbody></table>

<h2 id="list-all-stacks">List all stacks</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">stacks</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Stack</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">stackList</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">ListStacks</span><span class="p">()</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">stackList</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/app/v1/stack/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud stack ls
</code></pre>

<p>Lists all current and recently terminated stacks. Returns a list of <code class="prettyprint">Stack</code> objects.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/app/v1/[optional_namespace/]stack/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>Filter by UUID</td>
</tr>
<tr>
<td>name</td>
<td>Filter by stack name</td>
</tr>
</tbody></table>

<h2 id="create-a-new-stack">Create a new stack</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">stack</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Stack</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">"my-new-stack"</span><span class="p">,</span> <span class="n">services</span><span class="o">=</span><span class="p">[{</span><span class="s">"name"</span><span class="p">:</span> <span class="s">"hello-word"</span><span class="p">,</span> <span class="s">"image"</span><span class="p">:</span> <span class="s">"tutum/hello-world"</span><span class="p">,</span> <span class="s">"target_num_containers"</span><span class="p">:</span> <span class="mi">2</span><span class="p">}])</span>
<span class="n">stack</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">stack</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">CreateStack</span><span class="p">(</span><span class="n">dockercloud</span><span class="o">.</span><span class="n">StackCreateRequest</span><span class="p">{</span><span class="n">Name</span><span class="o">:</span><span class="x"> </span><span class="s">"my-new-stack"</span><span class="p">,</span><span class="x"> </span><span class="n">Services</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="n">dockercloud</span><span class="o">.</span><span class="n">ServiceCreateRequest</span><span class="p">{{</span><span class="n">Image</span><span class="o">:</span><span class="x"> </span><span class="s">"tutum/hello-world"</span><span class="p">,</span><span class="x"> </span><span class="n">Name</span><span class="o">:</span><span class="x"> </span><span class="s">"test"</span><span class="p">,</span><span class="x"> </span><span class="n">Target_num_containers</span><span class="o">:</span><span class="x"> </span><span class="m">2</span><span class="p">}}})</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/app/v1/stack/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-new-stack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hello-word"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tutum/hello-world"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"target_num_containers"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"linked_to_service"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"to_service"</span><span class="p">:</span><span class="w"> </span><span class="s2">"database"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"database"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tutum/mysql"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight shell"><code>docker-cloud stack create --name hello-world -f docker-compose.yml
</code></pre>

<p>Creates a new stack without starting it. Note that the JSON syntax is abstracted by both, the Docker Cloud CLI and our UI, in order to use <a href="/docker-cloud/apps/stack-yaml-reference/">Stack YAML files</a>.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/app/v1/[optional_namespace/]stack/</code></p>

<h3 id="json-parameters">JSON Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>(required) A human-readable name for the stack, i.e. <code class="prettyprint">my-hello-world-stack</code></td>
</tr>
<tr>
<td>nickname</td>
<td>(optional) A user-friendly name for the stack (<code class="prettyprint">name</code> by default)</td>
</tr>
<tr>
<td>services</td>
<td>(optional) List of services belonging to the stack. Each service accepts the same parameters as a <a href="#create-a-new-service">Create new service</a> operation (default: <code class="prettyprint">[]</code>) plus the ability to refer &ldquo;links&rdquo; and &ldquo;volumes-from&rdquo; by the name of another service in the stack (see example).</td>
</tr>
</tbody></table>

<h2 id="export-an-existing-stack">Export an existing stack</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">stack</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Stack</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"46aca402-2109-4a70-a378-760cfed43816"</span><span class="p">)</span>
<span class="n">stack</span><span class="o">.</span><span class="n">export</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">stack</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetStack</span><span class="p">(</span><span class="s">"46aca402-2109-4a70-a378-760cfed43816"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">stack</span><span class="o">.</span><span class="n">Export</span><span class="p">();</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
   </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/app/v1/stack/46aca402-2109-4a70-a378-760cfed43816/export/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud stack <span class="nb">export </span>46aca402
</code></pre>

<p>Get a JSON representation of the stack following the <a href="/docker-cloud/apps/stacks/">Stack YAML representation</a>.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/app/v1/[optional_namespace/]stack/(uuid)/export/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the stack to retrieve</td>
</tr>
</tbody></table>

<h2 id="get-an-existing-stack">Get an existing stack</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">stack</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Stack</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"46aca402-2109-4a70-a378-760cfed43816"</span><span class="p">)</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">stack</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetStack</span><span class="p">(</span><span class="s">"46aca402-2109-4a70-a378-760cfed43816"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/app/v1/stack/46aca402-2109-4a70-a378-760cfed43816/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud stack inspect 46aca402-2109-4a70-a378-760cfed43816
</code></pre>

<p>Get all the details of an specific stack</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/app/v1/[optional_namespace/]stack/(uuid)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the stack to retrieve</td>
</tr>
</tbody></table>

<h2 id="update-an-existing-stack">Update an existing stack</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">stack</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Stack</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"46aca402-2109-4a70-a378-760cfed43816"</span><span class="p">)</span>
<span class="n">stack</span><span class="o">.</span><span class="n">services</span> <span class="o">=</span> <span class="p">{</span><span class="s">"services"</span><span class="p">:</span> <span class="p">[{</span><span class="s">"name"</span><span class="p">:</span> <span class="s">"hello-word"</span><span class="p">,</span> <span class="s">"image"</span><span class="p">:</span> <span class="s">"tutum/hello-world"</span><span class="p">,</span> <span class="s">"target_num_containers"</span><span class="p">:</span> <span class="mi">2</span><span class="p">}]}</span>
<span class="n">stack</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">stack</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetStack</span><span class="p">(</span><span class="s">"46aca402-2109-4a70-a378-760cfed43816"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">stack</span><span class="o">.</span><span class="n">Update</span><span class="p">(</span><span class="n">dockercloud</span><span class="o">.</span><span class="n">StackCreateRequest</span><span class="p">{</span><span class="n">Services</span><span class="o">:</span><span class="x"> </span><span class="p">[]</span><span class="n">dockercloud</span><span class="o">.</span><span class="n">ServiceCreateRequest</span><span class="p">{{</span><span class="n">Name</span><span class="o">:</span><span class="x"> </span><span class="s">"hello-world"</span><span class="p">,</span><span class="x"> </span><span class="n">Image</span><span class="o">:</span><span class="x"> </span><span class="s">"tutum/hello-world"</span><span class="p">,</span><span class="x"> </span><span class="n">Target_num_containers</span><span class="o">:</span><span class="x"> </span><span class="m">2</span><span class="p">}}});</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
   </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">PATCH</span> <span class="nn">/api/app/v1/stack/46aca402-2109-4a70-a378-760cfed43816/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hello-word"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tutum/hello-world"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"target_num_containers"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="nt">"linked_to_service"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"to_service"</span><span class="p">:</span><span class="w"> </span><span class="s2">"database"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"database"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tutum/mysql"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight shell"><code>docker-cloud stack update -f docker-compose.yml 46aca402
</code></pre>

<p>Updates the details of every service in the stack.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH /api/app/v1/[optional_namespace/]stack/(uuid)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the stack to update</td>
</tr>
</tbody></table>

<h3 id="json-parameters">JSON Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>services</td>
<td>(optional) List of services belonging to the stack. Each service accepts the same parameters as a <a href="#update-an-existing-service">Update an existing service</a> operation (default: <code class="prettyprint">[]</code>) plus the ability to refer &ldquo;links&rdquo; and &ldquo;volumes-from&rdquo; by the name of another service in the stack (see example).</td>
</tr>
</tbody></table>

<h2 id="stop-a-stack">Stop a stack</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">stack</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Stack</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"46aca402-2109-4a70-a378-760cfed43816"</span><span class="p">)</span>
<span class="n">stack</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">stack</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetStack</span><span class="p">(</span><span class="s">"46aca402-2109-4a70-a378-760cfed43816"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">stack</span><span class="o">.</span><span class="n">Stop</span><span class="p">();</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
   </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/app/v1/stack/46aca402-2109-4a70-a378-760cfed43816/stop/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud stack stop 46aca402-2109-4a70-a378-760cfed43816
</code></pre>

<p>Stops the services in the stack.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/app/v1/[optional_namespace/]stack/(uuid)/stop/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the stack to stop</td>
</tr>
</tbody></table>

<h2 id="start-a-stack">Start a stack</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">stack</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Stack</span><span class="o">.</span><span class="n">fetch</span><span class="p">()</span>
<span class="n">stack</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">stack</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetStack</span><span class="p">(</span><span class="s">"46aca402-2109-4a70-a378-760cfed43816"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">stack</span><span class="o">.</span><span class="n">Start</span><span class="p">();</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
   </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/app/v1/stack/46aca402-2109-4a70-a378-760cfed43816/start/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud stack start 46aca402
</code></pre>

<p>Starts the services in the stack.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/app/v1/[optional_namespace/]stack/(uuid)/start/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the stack to start</td>
</tr>
</tbody></table>

<h2 id="redeploy-a-stack">Redeploy a stack</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">stack</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Stack</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"46aca402-2109-4a70-a378-760cfed43816"</span><span class="p">)</span>
<span class="n">stack</span><span class="o">.</span><span class="n">redeploy</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">stack</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetStack</span><span class="p">(</span><span class="s">"46aca402-2109-4a70-a378-760cfed43816"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="c">//Redeploy(dockercloud.ReuseVolumesOption{Reuse: true}) to reuse the existing volumes</span><span class="x">
</span><span class="c">//Redeploy(dockercloud.ReuseVolumesOption{Reuse: false}) to not reuse the existing volumes</span><span class="x">
</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">stack</span><span class="o">.</span><span class="n">Redeploy</span><span class="p">(</span><span class="n">dockercloud</span><span class="o">.</span><span class="n">ReuseVolumesOption</span><span class="p">{</span><span class="n">Reuse</span><span class="o">:</span><span class="x"> </span><span class="no">false</span><span class="p">});</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
   </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/app/v1/stack/46aca402-2109-4a70-a378-760cfed43816/redeploy/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud stack redeploy 46aca402
</code></pre>

<p>Redeploys all the services in the stack.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/app/v1/[optional_namespace/]stack/(uuid)/redeploy/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the stack to redeploy</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>reuse_volumes</td>
<td>Wheather to reuse container volumes for this redeploy operation or not (default: <code class="prettyprint">true</code>).</td>
</tr>
</tbody></table>

<h2 id="terminate-a-stack">Terminate a stack</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">stack</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Stack</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"46aca402-2109-4a70-a378-760cfed43816"</span><span class="p">)</span>
<span class="n">stack</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">stack</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetStack</span><span class="p">(</span><span class="s">"46aca402-2109-4a70-a378-760cfed43816"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">stack</span><span class="o">.</span><span class="n">Terminate</span><span class="p">();</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
   </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/api/app/v1/stack/46aca402-2109-4a70-a378-760cfed43816/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud stack terminate 46aca402
</code></pre>

<p>Terminate all the services in a the stack and the stack itself.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /api/app/v1/[optional_namespace/]stack/(uuid)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the stack to terminate</td>
</tr>
</tbody></table>

          <h1 id="services">Services</h1>

<h2 id="service">Service</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"autodestroy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OFF"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"autoredeploy"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"autorestart"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ON_FAILURE"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"bindings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"host_path"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"container_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/tmp"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"rewritable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"volumes_from"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"host_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/etc"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"container_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/etc"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"rewritable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"volumes_from"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"host_path"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"container_path"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"rewritable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"volumes_from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/app/v1/user_namespace/service/2f4f54e5-9d3b-4ac1-85ad-a2d4ff25a179/"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"cap_add"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"ALL"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"cap_drop"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"NET_ADMIN"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"SYS_ADMIN"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"container_envvars"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_PASS"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"container_ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"endpoint_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://wordpress-stackable.admin.srv.dockerapp.io:80/"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"inner_port"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
      </span><span class="nt">"outer_port"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
      </span><span class="nt">"port_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"published"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"containers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"/api/app/v1/user_namespace/container/6f8ee454-9dc3-4387-80c3-57aac1be3cc6/"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"/api/app/v1/user_namespace/container/fdf9c116-7c08-4a60-b0ce-c54ca72c2f25/"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"cpu_shares"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
  </span><span class="nt">"cpuset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0,1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"cgroup_parent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m-executor-abcd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"current_num_containers"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"deployed_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mon, 13 Oct 2014 11:01:43 +0000"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"deployment_strategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EMPTIEST_NODE"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"destroyed_datetime"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"devices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"/dev/ttyUSB0:/dev/ttyUSB0"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"dns"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"8.8.8.8"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"dns_search"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"example.com"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"domainname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"domainname"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"entrypoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"extra_hosts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"onehost:50.31.209.229"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"hostname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hostname"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"image_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tutum/wordpress-stackable:latest"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"nickname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wordpress-stackable"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"com.example.description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accounting webapp"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"com.example.department"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Finance"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"com.example.label-with-empty-value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"link_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_1_ENV_DB_HOST"</span><span class="p">:</span><span class="w"> </span><span class="s2">"**LinkMe**"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_1_ENV_DB_NAME"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wordpress"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_1_ENV_DB_PASS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"szVaPz925B7I"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_1_ENV_DB_PORT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"**LinkMe**"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_1_ENV_DB_USER"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_1_ENV_DEBIAN_FRONTEND"</span><span class="p">:</span><span class="w"> </span><span class="s2">"noninteractive"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_1_ENV_HOME"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_1_ENV_PATH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_1_PORT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp://wordpress-stackable-1.admin.cont.dockerapp.io:49153"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_1_PORT_80_TCP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp://wordpress-stackable-1.admin.cont.dockerapp.io:49153"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_1_PORT_80_TCP_ADDR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wordpress-stackable-1.admin.cont.dockerapp.io"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_1_PORT_80_TCP_PORT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"49153"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_1_PORT_80_TCP_PROTO"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_2_ENV_DB_HOST"</span><span class="p">:</span><span class="w"> </span><span class="s2">"**LinkMe**"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_2_ENV_DB_NAME"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wordpress"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_2_ENV_DB_PASS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"szVaPz925B7I"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_2_ENV_DB_PORT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"**LinkMe**"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_2_ENV_DB_USER"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_2_ENV_DEBIAN_FRONTEND"</span><span class="p">:</span><span class="w"> </span><span class="s2">"noninteractive"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_2_ENV_HOME"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_2_ENV_PATH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_2_PORT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp://wordpress-stackable-2.admin.cont.dockerapp.io:49154"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_2_PORT_80_TCP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp://wordpress-stackable-2.admin.cont.dockerapp.io:49154"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_2_PORT_80_TCP_ADDR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wordpress-stackable-2.admin.cont.dockerapp.io"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_2_PORT_80_TCP_PORT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"49154"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_2_PORT_80_TCP_PROTO"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_ENV_DB_HOST"</span><span class="p">:</span><span class="w"> </span><span class="s2">"**LinkMe**"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_ENV_DB_NAME"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wordpress"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_ENV_DB_PASS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"szVaPz925B7I"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_ENV_DB_PORT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"**LinkMe**"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_ENV_DB_USER"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_ENV_DEBIAN_FRONTEND"</span><span class="p">:</span><span class="w"> </span><span class="s2">"noninteractive"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_ENV_HOME"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_ENV_PATH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_PORT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp://wordpress-stackable-1.admin.cont.dockerapp.io:49153"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_PORT_80_TCP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp://wordpress-stackable-1.admin.cont.dockerapp.io:49153"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_PORT_80_TCP_ADDR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wordpress-stackable-1.admin.cont.dockerapp.io"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_PORT_80_TCP_PORT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"49153"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_PORT_80_TCP_PROTO"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"WORDPRESS_STACKABLE_DOCKERCLOUD_API_URL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cloud.docker.com/api/app/v1/user_namespace/service/adeebc1b-1b81-4af0-b8f2-cefffc69d7fb/"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"linked_from_service"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nt">"linked_to_service"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"from_service"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/app/v1/user_namespace/service/09cbcf8d-a727-40d9-b420-c8e18b7fa55b/"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"to_service"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/app/v1/user_namespace/service/72f175bd-390b-46e3-9463-830aca32ce3e/"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"mac_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02:42:ac:11:65:43"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"memory"</span><span class="p">:</span><span class="w"> </span><span class="mi">2048</span><span class="p">,</span><span class="w">
  </span><span class="nt">"memory_swap"</span><span class="p">:</span><span class="w"> </span><span class="mi">8192</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wordpress-stackable"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"net"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bridge"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"privileged"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"public_dns"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wordpress-stackable.admin.svc.dockerapp.io"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"read_only"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/app/v1/user_namespace/service/09cbcf8d-a727-40d9-b420-c8e18b7fa55b/"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"global"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"run_command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/run-wordpress.sh"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"running_num_containers"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"security_opt"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"sequential_deployment"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"started_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mon, 13 Oct 2014 11:01:43 +0000"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Partly running"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/app/v1/user_namespace/stack/46aca402-2109-4a70-a378-760cfed43816/"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"stdin_open"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"stopped_datetime"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"stopped_num_containers"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"synchronized"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag_one"</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag-two"</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tagthree3"</span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"target_num_containers"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tty"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"root"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"09cbcf8d-a727-40d9-b420-c8e18b7fa55b"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"working_dir"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/app"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>A service is a template used to deploy one or more containers.</p>

<p>This is a <a href="#namespaced-endpoints">namespaced endpoint</a>.</p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>A unique identifier for the service generated automatically on creation</td>
</tr>
<tr>
<td>resource_uri</td>
<td>A unique API endpoint that represents the service</td>
</tr>
<tr>
<td>image_name</td>
<td>The Docker image name and tag used for the service containers</td>
</tr>
<tr>
<td>name</td>
<td>A user provided name for the service. This name will be inherited by the service containers and will be used in endpoint URLs, environment variable names, etc.</td>
</tr>
<tr>
<td>public_dns</td>
<td>An external FQDN that resolves to all IPs of the nodes where the service containers are running on (as an <code class="prettyprint">A</code> record with multiple IP entries which will be used by clients in a <a href="http://en.wikipedia.org/wiki/Round-robin_DNS">round-robin fashion</a>). If the service is not publishing any ports, this FQDN will fail to resolve.</td>
</tr>
<tr>
<td>state</td>
<td>The state of the service (see table <code class="prettyprint">Service states</code> below)</td>
</tr>
<tr>
<td>net</td>
<td>Network mode to set on the containers (see table <code class="prettyprint">Network Modes</code> below, more information /docker-cloud/apps/service-links/)</td>
</tr>
<tr>
<td>pid</td>
<td>Set the PID (Process) Namespace mode for the containers (<a href="/engine/reference/run/#pid-settings-pid">more information</a>)</td>
</tr>
<tr>
<td>synchronized</td>
<td>Flag indicating if the current service definition is synchronized with the current containers.</td>
</tr>
<tr>
<td>deployed_datetime</td>
<td>The date and time of the last deployment of the service (if applicable, <code class="prettyprint">null</code> otherwise)</td>
</tr>
<tr>
<td>started_datetime</td>
<td>The date and time of the last <code class="prettyprint">start</code> operation on the service (if applicable, <code class="prettyprint">null</code> otherwise)</td>
</tr>
<tr>
<td>stopped_datetime</td>
<td>The date and time of the last <code class="prettyprint">stop</code> operation on the service (if applicable, <code class="prettyprint">null</code> otherwise)</td>
</tr>
<tr>
<td>destroyed_datetime</td>
<td>The date and time of the <code class="prettyprint">terminate</code> operation on the service (if applicable, <code class="prettyprint">null</code> otherwise)</td>
</tr>
<tr>
<td>target_num_containers</td>
<td>The requested number of containers to deploy for the service</td>
</tr>
<tr>
<td>current_num_containers</td>
<td>The actual number of containers deployed for the service</td>
</tr>
<tr>
<td>running_num_containers</td>
<td>The actual number of containers deployed for the service in <code class="prettyprint">Running</code> state</td>
</tr>
<tr>
<td>stopped_num_containers</td>
<td>The actual number of containers deployed for the service in <code class="prettyprint">Stopped</code> state</td>
</tr>
<tr>
<td>stack</td>
<td>Resource URIs of the stack that the service belongs to</td>
</tr>
<tr>
<td>containers</td>
<td>List of resource URIs of the containers launched as part of the service</td>
</tr>
<tr>
<td>container_ports</td>
<td>List of ports to be published on the containers of this service (see table <code class="prettyprint">Service Port attributes</code> below)</td>
</tr>
<tr>
<td>container_envvars</td>
<td>List of user-defined environment variables to set on the containers of the service, which will override the image environment variables (see table <code class="prettyprint">Service Environment Variable attributes</code> below)</td>
</tr>
<tr>
<td>labels</td>
<td>Metadata in form of dictionary used for every container of this service</td>
</tr>
<tr>
<td>working_dir</td>
<td>Working directory for running binaries within a container of this service</td>
</tr>
<tr>
<td>user</td>
<td>Set the user used on containers of this service (<code class="prettyprint">root</code> by default)</td>
</tr>
<tr>
<td>hostname</td>
<td>Set the hostname used on containers of this service</td>
</tr>
<tr>
<td>domainname</td>
<td>Set the domainname used on containers of this service</td>
</tr>
<tr>
<td>mac_address</td>
<td>Ethernet device&rsquo;s MAC address used on containers of this service</td>
</tr>
<tr>
<td>cgroup_name</td>
<td>Optional parent cgroup used on containers of this service.</td>
</tr>
<tr>
<td>tty</td>
<td>If the containers of this service have the tty enable (<code class="prettyprint">false</code> by default)</td>
</tr>
<tr>
<td>stdin_open</td>
<td>If the containers of this service have stdin opened (<code class="prettyprint">false</code> by default)</td>
</tr>
<tr>
<td>dns</td>
<td>Custom DNS servers for containers of this service</td>
</tr>
<tr>
<td>dns_search</td>
<td>Custom DNS search domain for containers of this service</td>
</tr>
<tr>
<td>cap_add</td>
<td>Added capabilities for containers of this service</td>
</tr>
<tr>
<td>cap_drop</td>
<td>Dropped capabilities for containers of this service</td>
</tr>
<tr>
<td>devices</td>
<td>List of device mappings for containers of this service</td>
</tr>
<tr>
<td>extra_hosts</td>
<td>List of hostname mappings for containers of this service</td>
</tr>
<tr>
<td>secuirty_opt</td>
<td>Labeling scheme for containers of this service</td>
</tr>
<tr>
<td>entrypoint</td>
<td>Entrypoint to be set on the containers launched as part of the service, which will override the image entrypoint</td>
</tr>
<tr>
<td>run_command</td>
<td>Run command to be set on the containers launched as part of the service, which will override the image run command</td>
</tr>
<tr>
<td>sequential_deployment</td>
<td>Whether the containers for this service should be deployed in sequence, linking each of them to the previous containers (see <a href="/docker-cloud/apps/service-scaling/">Service scaling</a> for more information)</td>
</tr>
<tr>
<td>cpu_shares</td>
<td>The relative CPU priority of the containers of the service (see <a href="/engine/reference/run/#runtime-constraints-on-cpu-and-memory">Runtime Constraints on CPU and Memory</a> for more information)</td>
</tr>
<tr>
<td>cpuset</td>
<td>CPUs in which to allow execution</td>
</tr>
<tr>
<td>memory</td>
<td>The memory limit of the containers of the service in MB (see <a href="/engine/reference/run/#runtime-constraints-on-cpu-and-memory">Runtime Constraints on CPU and Memory</a> for more information)</td>
</tr>
<tr>
<td>memory_swap</td>
<td>Total memory limit (memory + swap) of the containers of the service in MB</td>
</tr>
<tr>
<td>linked_from_service</td>
<td>A list of services that are linked to this one (see table <code class="prettyprint">Related services attributes</code> below)</td>
</tr>
<tr>
<td>linked_to_service</td>
<td>A list of services that the service is linked to (see table <code class="prettyprint">Related services attributes</code> below)</td>
</tr>
<tr>
<td>bindings</td>
<td>A list of volume bindings that the service has mounted (see table <code class="prettyprint">Service binding attributes</code> below)</td>
</tr>
<tr>
<td>autorestart</td>
<td>Whether to restart the containers of the service automatically if they stop (see <a href="/docker-cloud/apps/autorestart/">Crash recovery</a> for more information)</td>
</tr>
<tr>
<td>autodestroy</td>
<td>Whether to terminate the containers of the service automatically if they stop (see <a href="/docker-cloud/apps/auto-destroy/">Autodestroy</a> for more information)</td>
</tr>
<tr>
<td>roles</td>
<td>List of Docker Cloud roles assigned to this service (see <a href="/docker-cloud/apps/service-links/">Service links</a> for more information)</td>
</tr>
<tr>
<td>link_variables</td>
<td>List of environment variables that would be exposed in the containers if they are linked to this service</td>
</tr>
<tr>
<td>privileged</td>
<td>Whether to start the containers with Docker&rsquo;s <code class="prettyprint">privileged</code> flag set or not, which allows containers to access all devices on the host among other things (see <a href="/engine/reference/run/#runtime-privilege-linux-capabilities-and-lxc-configuration">Runtime privilege</a> for more information)</td>
</tr>
<tr>
<td>read_only</td>
<td>Whether the filesystem of every service container is read-only or not (<code class="prettyprint">false</code> by default)</td>
</tr>
<tr>
<td>deployment_strategy</td>
<td>Container distribution among nodes (see table <code class="prettyprint">Deployment strategies</code> below and <a href="/docker-cloud/infrastructure/deployment-strategies/">Deployment strategies</a> for more information)</td>
</tr>
<tr>
<td>tags</td>
<td>List of tags to be used to deploy the service (see <a href="/docker-cloud/apps/deploy-tags/">Tags</a> for more information)</td>
</tr>
<tr>
<td>autoredeploy</td>
<td>Whether to redeploy the containers of the service when its image is updated in Docker Cloud registry (see <a href="/docker-cloud/apps/auto-redeploy/">Docker Cloud&rsquo;s private registry</a> for more information)</td>
</tr>
<tr>
<td>nickname</td>
<td>A user-friendly name for the service (<code class="prettyprint">name</code> by default)</td>
</tr>
</tbody></table>

<h3 id="service-binding-attributes">Service binding attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>host_path</td>
<td>The host path of the volume</td>
</tr>
<tr>
<td>container_path</td>
<td>The container path where the volume is mounted</td>
</tr>
<tr>
<td>rewritable</td>
<td><code class="prettyprint">true</code> is the volume has writable permissions</td>
</tr>
<tr>
<td>volumes_from</td>
<td>The resource URI of the service</td>
</tr>
</tbody></table>

<h3 id="service-port-attributes">Service Port attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>protocol</td>
<td>The protocol of the port, either <code class="prettyprint">tcp</code> or <code class="prettyprint">udp</code></td>
</tr>
<tr>
<td>inner_port</td>
<td>The published port number inside the container</td>
</tr>
<tr>
<td>outer_port</td>
<td>The published port number in the node public network interface</td>
</tr>
<tr>
<td>port_name</td>
<td>Name of the service associated to this port</td>
</tr>
<tr>
<td>endpoint_uri</td>
<td>The URI of the service endpoint for this port</td>
</tr>
<tr>
<td>published</td>
<td>Whether the port has been published in the host public network interface or not. Non-published ports can only be accessed via links.</td>
</tr>
</tbody></table>

<h3 id="service-environment-variable-attributes">Service Environment Variable attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>key</td>
<td>The name of the environment variable</td>
</tr>
<tr>
<td>value</td>
<td>The value of the environment variable</td>
</tr>
</tbody></table>

<h3 id="related-services-attributes">Related services attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>The link name</td>
</tr>
<tr>
<td>from_service</td>
<td>The resource URI of the origin of the link</td>
</tr>
<tr>
<td>to_service</td>
<td>The resource URI of the target of the link</td>
</tr>
</tbody></table>

<h3 id="service-states">Service states</h3>

<table><thead>
<tr>
<th>State</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Not running</td>
<td>The service has been created and has no deployed containers yet. Possible actions in this state: <code class="prettyprint">start</code>, <code class="prettyprint">terminate</code>.</td>
</tr>
<tr>
<td>Starting</td>
<td>All containers for the service are either starting or already running. No actions allowed in this state.</td>
</tr>
<tr>
<td>Running</td>
<td>All containers for the service are deployed and running. Possible actions in this state: <code class="prettyprint">stop</code>, <code class="prettyprint">redeploy</code>, <code class="prettyprint">terminate</code>.</td>
</tr>
<tr>
<td>Partly running</td>
<td>One or more containers of the service are deployed and running. Possible actions in this state: <code class="prettyprint">stop</code>, <code class="prettyprint">redeploy</code>, <code class="prettyprint">terminate</code>.</td>
</tr>
<tr>
<td>Scaling</td>
<td>The service is either deploying new containers or destroying existing ones responding to a scaling request. No actions allowed in this state.</td>
</tr>
<tr>
<td>Redeploying</td>
<td>The service is redeploying all its containers with the updated configuration. No actions allowed in this state.</td>
</tr>
<tr>
<td>Stopping</td>
<td>All containers for the service are either stopping or already stopped. No actions allowed in this state.</td>
</tr>
<tr>
<td>Stopped</td>
<td>All containers for the service are stopped. Possible actions in this state: <code class="prettyprint">start</code>, <code class="prettyprint">redeploy</code>, <code class="prettyprint">terminate</code>.</td>
</tr>
<tr>
<td>Terminating</td>
<td>All containers for the service are either being terminated or already terminated. No actions allowed in this state.</td>
</tr>
<tr>
<td>Terminated</td>
<td>The service and all its containers have been terminated. No actions allowed in this state.</td>
</tr>
</tbody></table>

<h3 id="deployment-strategies">Deployment strategies</h3>

<table><thead>
<tr>
<th>Strategy</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>EMPTIEST_NODE</td>
<td>It will deploy containers to the node with the lower total amount of running containers (default).</td>
</tr>
<tr>
<td>HIGH_AVAILABILITY</td>
<td>It will deploy containers to the node with the lower amount of running containers of the same service.</td>
</tr>
<tr>
<td>EVERY_NODE</td>
<td>It will deploy one container on every node. The service won&rsquo;t be able to scale manually. New containers will be deployed to new nodes automatically.</td>
</tr>
</tbody></table>

<h3 id="network-modes">Network Modes</h3>

<table><thead>
<tr>
<th>Strategy</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bridge</td>
<td>Creates a new network stack for the container on the docker bridge.</td>
</tr>
<tr>
<td>host</td>
<td>Uses the host network stack inside the container.</td>
</tr>
</tbody></table>

<h2 id="list-all-services">List all services</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">services</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Service</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">serviceList</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">ListServices</span><span class="p">()</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">serviceList</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/app/v1/service/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud service ps
</code></pre>

<p>Lists all current and recently terminated services. Returns a list of <code class="prettyprint">Service</code> objects.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/app/v1/[optional_namespace/]service/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>Filter by UUID</td>
</tr>
<tr>
<td>state</td>
<td>Filter by state. Possible values: <code class="prettyprint">Not running</code>, <code class="prettyprint">Starting</code>, <code class="prettyprint">Running</code>, <code class="prettyprint">Partly running</code>, <code class="prettyprint">Scaling</code>, <code class="prettyprint">Redeploying</code>, <code class="prettyprint">Stopping</code>, <code class="prettyprint">Stopped</code>, <code class="prettyprint">Terminating</code>, <code class="prettyprint">Terminated</code></td>
</tr>
<tr>
<td>name</td>
<td>Filter by service name</td>
</tr>
<tr>
<td>stack</td>
<td>Filter by resource URI of the target stack.</td>
</tr>
</tbody></table>

<h2 id="create-a-new-service">Create a new service</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">service</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Service</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">image</span><span class="o">=</span><span class="s">"tutum/hello-world"</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">"my-new-app"</span><span class="p">,</span> <span class="n">target_num_containers</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">service</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">service</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">CreateService</span><span class="p">(</span><span class="n">dockercloud</span><span class="o">.</span><span class="n">ServiceCreateRequest</span><span class="p">{</span><span class="n">Image</span><span class="o">:</span><span class="x"> </span><span class="s">"tutum/hello-world"</span><span class="p">,</span><span class="x">  </span><span class="n">Name</span><span class="o">:</span><span class="x"> </span><span class="s">"my-new-app"</span><span class="p">,</span><span class="x"> </span><span class="n">Target_num_containers</span><span class="o">:</span><span class="x"> </span><span class="m">2</span><span class="p">})</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">service</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/app/v1/service/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tutum/hello-world"</span><span class="p">,</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-new-app"</span><span class="p">,</span><span class="w"> </span><span class="nt">"target_num_containers"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight shell"><code>docker-cloud service create -t 2 --name my-new-app tutum/hello-world
</code></pre>

<p>Creates a new service without starting it.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/app/v1/[optional_namespace/]service/</code></p>

<h3 id="json-parameters">JSON Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>image</td>
<td>(required) The image used to deploy this service in docker format, i.e. <code class="prettyprint">tutum/hello-world</code></td>
</tr>
<tr>
<td>name</td>
<td>(optional) A human-readable name for the service, i.e. <code class="prettyprint">my-hello-world-app</code> (default: <code class="prettyprint">image</code> without namespace)</td>
</tr>
<tr>
<td>target_num_containers</td>
<td>(optional) The number of containers to run for this service initially (default: 1)</td>
</tr>
<tr>
<td>run_command</td>
<td>(optional) The command used to start the containers of this service, overriding the value specified in the image, i.e. <code class="prettyprint">/run.sh</code> (default: <code class="prettyprint">null</code>)</td>
</tr>
<tr>
<td>entrypoint</td>
<td>(optional) The command prefix used to start the containers of this service, overriding the value specified in the image, i.e. <code class="prettyprint">/usr/sbin/sshd</code> (default: <code class="prettyprint">null</code>)</td>
</tr>
<tr>
<td>container_ports</td>
<td>(optional) An array of objects with port information to be published in the containers for this service, which will be added to the image port information, i.e. <code class="prettyprint">[{&quot;protocol&quot;: &quot;tcp&quot;, &quot;inner_port&quot;: 80, &quot;outer_port&quot;: 80}]</code> (default: <code class="prettyprint">[]</code>) (See table <code class="prettyprint">Service Port attributes</code> below)</td>
</tr>
<tr>
<td>container_envvars</td>
<td>(optional) An array of objects with environment variables to be added in the service containers on launch (overriding any image-defined environment variables), i.e. <code class="prettyprint">[{&quot;key&quot;: &quot;DB_PASSWORD&quot;, &quot;value&quot;: &quot;mypass&quot;}]</code> (default: <code class="prettyprint">[]</code>) (See table <code class="prettyprint">Service Environment Variable attributes</code> below)</td>
</tr>
<tr>
<td>linked_to_service</td>
<td>(optional) An array of service resource URIs to link this service to, including the link name, i.e. <code class="prettyprint">[{&quot;to_service&quot;: &quot;/api/app/v1/service/80ff1635-2d56-478d-a97f-9b59c720e513/&quot;, &quot;name&quot;: &quot;db&quot;}]</code> (default: <code class="prettyprint">[]</code>) (See table <code class="prettyprint">Related services attributes</code> below)</td>
</tr>
<tr>
<td>bindings</td>
<td>(optional) An array of bindings this service has to mount, i.e. <code class="prettyprint">[{&quot;volumes_from&quot;: &quot;/api/app/v1/service/80ff1635-2d56-478d-a97f-9b59c720e513/&quot;, &quot;rewritable&quot;: true}]</code> (default: <code class="prettyprint">[]</code>) (See table <code class="prettyprint">Related bindings attributes</code> below)</td>
</tr>
<tr>
<td>autorestart</td>
<td>(optional) Whether the containers for this service should be restarted if they stop, i.e. <code class="prettyprint">ALWAYS</code> (default: <code class="prettyprint">OFF</code>, possible values: <code class="prettyprint">OFF</code>, <code class="prettyprint">ON_FAILURE</code>, <code class="prettyprint">ALWAYS</code>) (see <a href="/docker-cloud/apps/autorestart/">Crash recovery</a> for more information)</td>
</tr>
<tr>
<td>autodestroy</td>
<td>(optional) Whether the containers should be terminated if they stop, i.e. <code class="prettyprint">OFF</code> (default: <code class="prettyprint">OFF</code>, possible values: <code class="prettyprint">OFF</code>, <code class="prettyprint">ON_SUCCESS</code>, <code class="prettyprint">ALWAYS</code>) (see <a href="/docker-cloud/apps/auto-destroy/">Autodestroy</a> for more information)</td>
</tr>
<tr>
<td>sequential_deployment</td>
<td>(optional) Whether the containers should be launched and scaled in sequence, i.e. <code class="prettyprint">true</code> (default: <code class="prettyprint">false</code>) (see <a href="/docker-cloud/apps/service-scaling/">Service scaling</a> for more information)</td>
</tr>
<tr>
<td>roles</td>
<td>(optional) A list of Docker Cloud API roles to grant the service, i.e. <code class="prettyprint">[&quot;global&quot;]</code> (default: <code class="prettyprint">[]</code>, possible values: <code class="prettyprint">global</code>) (see <a href="/docker-cloud/apps/service-links/">Service links</a> for more information)</td>
</tr>
<tr>
<td>privileged</td>
<td>(optional) Whether to start the containers with Docker&rsquo;s <code class="prettyprint">privileged</code> flag set or not, i.e. <code class="prettyprint">false</code> (default: <code class="prettyprint">false</code>) (see <a href="/engine/reference/run/#runtime-privilege-linux-capabilities-and-lxc-configuration">Runtime privilege</a> for more information)</td>
</tr>
<tr>
<td>deployment_strategy</td>
<td>(optional) Container distribution among nodes (default: <code class="prettyprint">EMPTIEST_NODE</code>, see table <code class="prettyprint">Deployment strategies</code> above and <a href="/docker-cloud/infrastructure/deployment-strategies/">Deployment strategies</a> for more information)</td>
</tr>
<tr>
<td>tags</td>
<td>(optional) A list of tags to be used to deploy the service (see <a href="/docker-cloud/apps/deploy-tags/">Tags</a> for more information) (default: <code class="prettyprint">[]</code>)</td>
</tr>
<tr>
<td>autoredeploy</td>
<td>(optional) Whether to redeploy the containers of the service when its image is updated in Docker Cloud registry (default: <code class="prettyprint">false</code>) (see <a href="/docker-cloud/apps/auto-redeploy/">Docker Cloud&rsquo;s private registry</a> for more information)</td>
</tr>
<tr>
<td>net</td>
<td>(optional) Set the network mode to the containers (default: <code class="prettyprint">bridge</code>, possible values: <code class="prettyprint">bridge</code>, <code class="prettyprint">host</code>)</td>
</tr>
<tr>
<td>pid</td>
<td>(optional) Set the PID (Process) Namespace mode for the containers (default: <code class="prettyprint">none</code> value, possible values: <code class="prettyprint">none</code>, <code class="prettyprint">host</code>)</td>
</tr>
<tr>
<td>working_dir</td>
<td>(optional) Working directory for running binaries within a container of this service (default: <code class="prettyprint">/</code>)</td>
</tr>
<tr>
<td>nickname</td>
<td>(optional) A user-friendly name for the service (<code class="prettyprint">name</code> by default)</td>
</tr>
</tbody></table>

<h3 id="related-bindings-attributes">Related bindings attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>host_path</td>
<td>(optional) The host path of the volume</td>
</tr>
<tr>
<td>container_path</td>
<td>(required if <code class="prettyprint">volumes_from</code> is omitted) The container path where the volume is mounted</td>
</tr>
<tr>
<td>rewritable</td>
<td>(optional) <code class="prettyprint">true</code> is the volume has writable permissions (default: <code class="prettyprint">true</code>)</td>
</tr>
<tr>
<td>volumes_from</td>
<td>(required if <code class="prettyprint">container_path</code> is omitted) The resource URI of the service</td>
</tr>
</tbody></table>

<h3 id="service-port-attributes">Service Port attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>protocol</td>
<td>(required) The protocol of the port, either <code class="prettyprint">tcp</code> or <code class="prettyprint">udp</code></td>
</tr>
<tr>
<td>inner_port</td>
<td>(required) The port number inside the container to be published</td>
</tr>
<tr>
<td>outer_port</td>
<td>(optional) The port number in the node public network interface to be published (default: dynamic allocation if <code class="prettyprint">published</code> is <code class="prettyprint">true</code>)</td>
</tr>
<tr>
<td>published</td>
<td>(optional) Whether to publish the port in the host public network interface or not. Non-published ports can only be accessed via links. (default: <code class="prettyprint">false</code>)</td>
</tr>
</tbody></table>

<h3 id="service-environment-variable-attributes">Service Environment Variable attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>key</td>
<td>(required) The name of the environment variable</td>
</tr>
<tr>
<td>value</td>
<td>(required) The value of the environment variable</td>
</tr>
</tbody></table>

<h3 id="related-services-attributes">Related services attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>to_service</td>
<td>(required) The resource URI of the target of the link</td>
</tr>
<tr>
<td>name</td>
<td>(optional) The link name</td>
</tr>
</tbody></table>

<h2 id="get-an-existing-service">Get an existing service</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">service</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Service</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">service</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetService</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">service</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/app/v1/service/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud service inspect 7eaf7fff
</code></pre>

<p>Get all the details of an specific service</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/app/v1/[optional_namespace/]service/(uuid)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the service to retrieve</td>
</tr>
</tbody></table>

<h2 id="get-the-logs-of-a-service">Get the logs of a service</h2>

<blockquote>
<p>Example log line</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"log"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wordpress-stackable-1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"log"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Log line from the container indicated by 'source'"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"streamType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stdout"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1433779324</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="k">def</span> <span class="nf">log_handler</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">message</span>

<span class="n">service</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Service</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
<span class="n">service</span><span class="o">.</span><span class="n">logs</span><span class="p">(</span><span class="n">tail</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">log_handler</span><span class="o">=</span><span class="n">log_handler</span><span class="p">)</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">service</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetService</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">c</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="nb">make</span><span class="p">(</span><span class="k">chan</span><span class="x"> </span><span class="n">Logs</span><span class="p">)</span><span class="x">

</span><span class="k">go</span><span class="x"> </span><span class="n">service</span><span class="o">.</span><span class="n">Logs</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="x">
    </span><span class="k">for</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">s</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&lt;-</span><span class="n">c</span><span class="x">
        </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="x">
    </span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/app/v1/service/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/logs/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">ws.cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">Upgrade</span>
<span class="na">Upgrade</span><span class="p">:</span> <span class="s">websocket</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud service logs 7eaf7fff
</code></pre>

<p>Get the aggregated logs of all the containers of the service.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>STREAM API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/app/v1/[optional_namespace/]service/(uuid)/logs/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the service to retrieve logs</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tail</td>
<td>Number of lines to show from the end of the logs (default: <code class="prettyprint">300</code>)</td>
</tr>
<tr>
<td>follow</td>
<td>Whether to stream logs or close the connection immediately (default: true)</td>
</tr>
</tbody></table>

<h2 id="update-an-existing-service">Update an existing service</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">service</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Service</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
<span class="n">service</span><span class="o">.</span><span class="n">target_num_containers</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">service</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">"name"</span><span class="p">:</span><span class="s">"tag-1"</span><span class="p">})</span>
<span class="n">service</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">service</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetService</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">service</span><span class="o">.</span><span class="n">Update</span><span class="p">(</span><span class="n">dockercloud</span><span class="o">.</span><span class="n">ServiceCreateRequest</span><span class="p">{</span><span class="n">Target_num_containers</span><span class="o">:</span><span class="x"> </span><span class="m">3</span><span class="p">});</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
   </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">PATCH</span> <span class="nn">/api/app/v1/service/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="nt">"autorestart"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ON_FAILURE"</span><span class="p">,</span><span class="w"> </span><span class="nt">"autodestroy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OFF"</span><span class="p">,</span><span class="w"> </span><span class="nt">"container_envvars"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_PASSWORD"</span><span class="p">,</span><span class="w"> </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mypass"</span><span class="p">}],</span><span class="w">
</span><span class="nt">"container_ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nt">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp"</span><span class="p">,</span><span class="w"> </span><span class="nt">"inner_port"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="nt">"outer_port"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">}],</span><span class="w"> </span><span class="nt">"cpu_shares"</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span><span class="w">
</span><span class="nt">"entrypoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/usr/sbin/sshd"</span><span class="p">,</span><span class="w"> </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tutum/hello-world"</span><span class="p">,</span><span class="w">
</span><span class="nt">"linked_to_service"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nt">"to_service"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/app/v1/service/80ff1635-2d56-478d-a97f-9b59c720e513/"</span><span class="p">,</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"db"</span><span class="p">}],</span><span class="w">
</span><span class="nt">"memory"</span><span class="p">:</span><span class="w"> </span><span class="mi">2048</span><span class="p">,</span><span class="w"> </span><span class="nt">"privileged"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w"> </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"global"</span><span class="p">],</span><span class="w"> </span><span class="nt">"run_command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/run.sh"</span><span class="p">,</span><span class="w"> </span><span class="nt">"sequential_deployment"</span><span class="p">:</span><span class="w"> </span><span class="err">False</span><span class="p">,</span><span class="w">
</span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag-1"</span><span class="p">}],</span><span class="w"> </span><span class="nt">"target_num_containers"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="nt">"autoredeploy"</span><span class="p">:</span><span class="w"> </span><span class="err">False</span><span class="p">}</span><span class="w">

</span></code></pre>
<pre class="highlight shell"><code>docker-cloud service scale 7eaf7fff 3
docker-cloud tag add -t tag-1 7eaf7fff
docker-cloud tag <span class="nb">set</span> -t tag-2 7eaf7fff
</code></pre>

<p>Updates the service details.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH /api/app/v1/[optional_namespace/]service/(uuid)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the service to update</td>
</tr>
</tbody></table>

<h3 id="json-parameters">JSON Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>autorestart</td>
<td>(optional) Whether the containers for this service should be restarted if they stop, i.e. <code class="prettyprint">ALWAYS</code> (possible values: <code class="prettyprint">OFF</code>, <code class="prettyprint">ON_FAILURE</code>, <code class="prettyprint">ALWAYS</code>) (see <a href="/docker-cloud/apps/autorestart/">Crash recovery</a> for more information)</td>
</tr>
<tr>
<td>autodestroy</td>
<td>(optional) Whether the containers should be terminated if they stop, i.e. <code class="prettyprint">OFF</code> (possible values: <code class="prettyprint">OFF</code>, <code class="prettyprint">ON_SUCCESS</code>, <code class="prettyprint">ALWAYS</code>) (see <a href="/docker-cloud/apps/auto-destroy/">Autodestroy</a> for more information)</td>
</tr>
<tr>
<td>container_envvars</td>
<td>(optional) An array of objects with environment variables to be added in the service containers on launch (overriding any image-defined environment variables), i.e. <code class="prettyprint">[{&quot;key&quot;: &quot;DB_PASSWORD&quot;, &quot;value&quot;: &quot;mypass&quot;}]</code> (See table <code class="prettyprint">Service Environment Variable attributes</code>)</td>
</tr>
<tr>
<td>container_ports</td>
<td>(optional) An array of objects with port information to be published in the containers for this service, which will be added to the image port information, i.e. <code class="prettyprint">[{&quot;protocol&quot;: &quot;tcp&quot;, &quot;inner_port&quot;: 80, &quot;outer_port&quot;: 80}]</code> (See table <code class="prettyprint">Service Port attributes</code>)</td>
</tr>
<tr>
<td>cpu_shares</td>
<td>(optional) The relative CPU priority of the containers the service describes (see <a href="/engine/reference/run/#runtime-constraints-on-cpu-and-memory">Runtime Constraints on CPU and Memory</a> for more information)</td>
</tr>
<tr>
<td>entrypoint</td>
<td>(optional) The command prefix used to start the containers of this service, overriding the value specified in the image, i.e. <code class="prettyprint">/usr/sbin/sshd</code></td>
</tr>
<tr>
<td>image</td>
<td>(optional) The image used to deploy this service in docker format, i.e. <code class="prettyprint">tutum/hello-world</code>, <code class="prettyprint">tutum/ubuntu:5.6</code>. If no tag is indicated, it will be set to <code class="prettyprint">latest</code> by default</td>
</tr>
<tr>
<td>linked_to_service</td>
<td>(optional) An array of service resource URIs to link this service to, including the link name, i.e. <code class="prettyprint">[{&quot;to_service&quot;: &quot;/api/app/v1/service/80ff1635-2d56-478d-a97f-9b59c720e513/&quot;, &quot;name&quot;: &quot;db&quot;}]</code> (See table <code class="prettyprint">Related services attributes</code> below)</td>
</tr>
<tr>
<td>memory</td>
<td>(optional) The memory limit of the containers of the service in MB (see <a href="/engine/reference/run/#runtime-constraints-on-cpu-and-memory">Runtime Constraints on CPU and Memory</a> for more information)</td>
</tr>
<tr>
<td>privileged</td>
<td>(optional) Whether to start the containers with Docker&rsquo;s <code class="prettyprint">privileged</code> flag set or not, i.e. <code class="prettyprint">false</code> (see <a href="/engine/reference/run/#runtime-privilege-linux-capabilities-and-lxc-configuration">Runtime privilege</a> for more information)</td>
</tr>
<tr>
<td>roles</td>
<td>(optional) A list of Docker Cloud API roles to grant the service, i.e. <code class="prettyprint">[&quot;global&quot;]</code> (possible values: <code class="prettyprint">global</code>) (see <a href="/docker-cloud/apps/service-links/">Service links</a> for more information)</td>
</tr>
<tr>
<td>run_command</td>
<td>(optional) The command used to start the containers of this service, overriding the value specified in the image, i.e. <code class="prettyprint">/run.sh</code></td>
</tr>
<tr>
<td>sequential_deployment</td>
<td>(optional) Whether the containers should be launched and scaled in sequence, i.e. <code class="prettyprint">true</code> (see <a href="/docker-cloud/apps/service-scaling/">Service scaling</a> for more information)</td>
</tr>
<tr>
<td>tags</td>
<td>(optional) List of new tags the service will have. This operation replaces the tag list</td>
</tr>
<tr>
<td>target_num_containers</td>
<td>(optional) The number of containers to scale this service to</td>
</tr>
<tr>
<td>deployment_strategy</td>
<td>(optional) Container distribution among nodes. A service cannot be updated to or from a deployment strategy of <code class="prettyprint">EVERY_NODE</code>. (See table <code class="prettyprint">Deployment strategies</code> above and <a href="/docker-cloud/infrastructure/deployment-strategies/">Deployment strategies</a> for more information)</td>
</tr>
<tr>
<td>autoredeploy</td>
<td>Whether to redeploy the containers of the service when its image is updated in Docker Cloud registry (see <a href="/docker-cloud/apps/auto-redeploy/">Docker Cloud&rsquo;s private registry</a> for more information)</td>
</tr>
<tr>
<td>net</td>
<td>(optional) Set the network mode to the containers (default: <code class="prettyprint">bridge</code>, possible values: <code class="prettyprint">bridge</code>, <code class="prettyprint">host</code>)</td>
</tr>
<tr>
<td>pid</td>
<td>(optional) Set the PID (Process) Namespace mode for the containers (default: <code class="prettyprint">none</code> value, possible values: <code class="prettyprint">none</code>, <code class="prettyprint">host</code>)</td>
</tr>
<tr>
<td>working_dir</td>
<td>(optional) Working directory for running binaries within a container of this service (default: <code class="prettyprint">/</code>)</td>
</tr>
<tr>
<td>nickname</td>
<td>(optional) A user-friendly name for the service (<code class="prettyprint">name</code> by default)</td>
</tr>
</tbody></table>

<h2 id="start-a-service">Start a service</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">service</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Service</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
<span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">service</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetService</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">service</span><span class="o">.</span><span class="n">Start</span><span class="p">();</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
   </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/app/v1/service/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/start/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud service start 7eaf7fff
</code></pre>

<p>Starts all containers in a stopped or partly running service.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/app/v1/[optional_namespace/]service/(uuid)/start/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the service to start</td>
</tr>
</tbody></table>

<h2 id="stop-a-service">Stop a service</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">service</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Service</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
<span class="n">service</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">service</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetService</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">service</span><span class="o">.</span><span class="n">Stop</span><span class="p">();</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
   </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/app/v1/service/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/stop/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud service stop 7eaf7fff
</code></pre>

<p>Stops all containers in a running or partly running service.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/app/v1/[optional_namespace/]service/(uuid)/stop/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the service to stop</td>
</tr>
</tbody></table>

<h2 id="scale-a-service">Scale a service</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">service</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Service</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
<span class="n">service</span><span class="o">.</span><span class="n">target_num_containers</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">service</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
<span class="n">service</span><span class="o">.</span><span class="n">scale</span><span class="p">()</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/app/v1/service/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/scale/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud service scale 7eaf7fff-882c-4f3d-9a8f-a22317ac00ce 3
</code></pre>

<p>Scales the service to its current <code class="prettyprint">target_num_containers</code> field.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/app/v1/[optional_namespace/]service/(uuid)/scale/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the service to scale</td>
</tr>
</tbody></table>

<h2 id="redeploy-a-service">Redeploy a service</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">service</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Service</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
<span class="n">service</span><span class="o">.</span><span class="n">redeploy</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">service</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetService</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="c">//Redeploy(dockercloud.ReuseVolumesOption{Reuse: true}) to reuse the existing volumes</span><span class="x">
</span><span class="c">//Redeploy(dockercloud.ReuseVolumesOption{Reuse: false}) to not reuse the existing volumes</span><span class="x">
</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">service</span><span class="o">.</span><span class="n">Redeploy</span><span class="p">(</span><span class="n">dockercloud</span><span class="o">.</span><span class="n">ReuseVolumesOption</span><span class="p">{</span><span class="n">Reuse</span><span class="o">:</span><span class="x"> </span><span class="no">false</span><span class="p">});</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
   </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/app/v1/service/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/redeploy/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud service redeploy 7eaf7fff
</code></pre>

<p>Redeploys all containers in the service with the current service configuration.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/app/v1/[optional_namespace/]service/(uuid)/redeploy/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the service to redeploy</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>reuse_volumes</td>
<td>Wheather to reuse container volumes for this redeploy operation or not (default: <code class="prettyprint">true</code>).</td>
</tr>
</tbody></table>

<h2 id="terminate-a-service">Terminate a service</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">service</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Service</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
<span class="n">service</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">service</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetService</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">service</span><span class="o">.</span><span class="n">Terminate</span><span class="p">();</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
   </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/api/app/v1/service/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud service terminate 7eaf7fff
</code></pre>

<p>Terminate all the containers in a service and the service itself. This is not reversible. All the data stored in all containers of the service will be permanently deleted.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /api/app/v1/[optional_namespace/]service/(uuid)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the service to terminate</td>
</tr>
</tbody></table>

          <h1 id="containers">Containers</h1>

<h2 id="container">Container</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"autodestroy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OFF"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"autorestart"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OFF"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bindings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/user_namespace/volume/1863e34d-6a7d-4945-aefc-8f27a4ab1a9e/"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"host_path"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"container_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/data"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rewritable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"volume"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"host_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/etc"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"container_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/etc"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rewritable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"cap_add"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"ALL"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"cap_drop"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"NET_ADMIN"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"SYS_ADMIN"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"container_envvars"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_1_ENV_DEBIAN_FRONTEND"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"noninteractive"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_1_ENV_MYSQL_PASS"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"**Random**"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_1_ENV_MYSQL_USER"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_1_ENV_PATH"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_1_ENV_REPLICATION_MASTER"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"**False**"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_1_ENV_REPLICATION_PASS"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"replica"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_1_ENV_REPLICATION_SLAVE"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"**False**"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_1_ENV_REPLICATION_USER"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"replica"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_1_PORT"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp://172.16.0.3:3306"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_1_PORT_3306_TCP"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp://172.16.0.3:3306"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_1_PORT_3306_TCP_ADDR"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"172.16.0.3"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_1_PORT_3306_TCP_PORT"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3306"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_1_PORT_3306_TCP_PROTO"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_ENV_DEBIAN_FRONTEND"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"noninteractive"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_ENV_MYSQL_PASS"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"**Random**"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_ENV_MYSQL_USER"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_ENV_PATH"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_ENV_REPLICATION_MASTER"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"**False**"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_ENV_REPLICATION_PASS"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"replica"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_ENV_REPLICATION_SLAVE"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"**False**"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_ENV_REPLICATION_USER"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"replica"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_PASS"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"szVaPz925B7I"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_PORT"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp://172.16.0.3:3306"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_PORT_3306_TCP"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp://172.16.0.3:3306"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_PORT_3306_TCP_ADDR"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"172.16.0.3"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_PORT_3306_TCP_PORT"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3306"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_PORT_3306_TCP_PROTO"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_DOCKERCLOUD_API_URL"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cloud.docker.com/api/app/v1/user_namespace/service/c0fed1dc-c528-40c9-aa4c-dc00672ebcbf/"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"container_ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"endpoint_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://wordpress-stackable-1.admin.cont.dockerapp.io:49153/"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"inner_port"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
            </span><span class="nt">"outer_port"</span><span class="p">:</span><span class="w"> </span><span class="mi">49153</span><span class="p">,</span><span class="w">
            </span><span class="nt">"port_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"published"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"uri_protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"cpu_shares"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cpuset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0,1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cgroup_parent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m-executor-abcd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"deployed_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 16 Oct 2014 12:04:08 +0000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"destroyed_datetime"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"devices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"/dev/ttyUSB0:/dev/ttyUSB0"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"dns"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"8.8.8.8"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"dns_search"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"example.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"c1dd4e1e-1356-411c-8613-e15146633640.local.dockerapp.io"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"domainname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"domainname"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"entrypoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"exit_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"exit_code_msg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"extra_hosts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"onehost:50.31.209.229"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"hostname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hostname"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"image_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tutum/wordpress-stackable:latest"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"com.example.description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accounting webapp"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"com.example.department"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Finance"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"com.example.label-with-empty-value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"linked_to_container"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"3306/tcp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp://172.16.0.3:3306"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"from_container"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/app/v1/user_namespace/container/c1dd4e1e-1356-411c-8613-e15146633640/"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DB_1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"to_container"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/app/v1/user_namespace/container/ba434e1e-1234-411c-8613-e15146633640/"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"link_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_1_ENV_DB_HOST"</span><span class="p">:</span><span class="w"> </span><span class="s2">"**LinkMe**"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_1_ENV_DB_NAME"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wordpress"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_1_ENV_DB_PASS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"szVaPz925B7I"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_1_ENV_DB_PORT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"**LinkMe**"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_1_ENV_DB_USER"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_1_ENV_DEBIAN_FRONTEND"</span><span class="p">:</span><span class="w"> </span><span class="s2">"noninteractive"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_1_ENV_HOME"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_1_ENV_PATH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_1_PORT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp://172.16.0.2:80"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_1_PORT_80_TCP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp://172.16.0.2:80"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_1_PORT_80_TCP_ADDR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"172.16.0.2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_1_PORT_80_TCP_PORT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_1_PORT_80_TCP_PROTO"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_ENV_DB_HOST"</span><span class="p">:</span><span class="w"> </span><span class="s2">"**LinkMe**"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_ENV_DB_NAME"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wordpress"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_ENV_DB_PASS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"szVaPz925B7I"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_ENV_DB_PORT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"**LinkMe**"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_ENV_DB_USER"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_ENV_DEBIAN_FRONTEND"</span><span class="p">:</span><span class="w"> </span><span class="s2">"noninteractive"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_ENV_HOME"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_ENV_PATH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_PORT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp://172.16.0.2:80"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_PORT_80_TCP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp://172.16.0.2:80"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_PORT_80_TCP_ADDR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"172.16.0.2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_PORT_80_TCP_PORT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"WORDPRESS_STACKABLE_PORT_80_TCP_PROTO"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"mac_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02:42:ac:11:65:43"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"memory"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
    </span><span class="nt">"memory_swap"</span><span class="p">:</span><span class="w"> </span><span class="mi">4096</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wordpress-stackable"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"net"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bridge"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"node"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/infra/v1/user_namespace/node/9691c44e-3155-4ca2-958d-c9571aac0a14/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"pid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"private_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.7.0.1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"privileged"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"public_dns"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wordpress-stackable-1.admin.cont.dockerapp.io"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"read_only"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"resource_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/app/v1/user_namespace/container/c1dd4e1e-1356-411c-8613-e15146633640/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"global"</span><span class="p">],</span><span class="w">
    </span><span class="nt">"run_command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/run-wordpress.sh"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"security_opt"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"label:user:USER"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"label:role:ROLE"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"service"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/app/v1/user_namespace/service/adeebc1b-1b81-4af0-b8f2-cefffc69d7fb/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"started_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 16 Oct 2014 12:04:08 +0000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Running"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"stdin_open"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"stopped_datetime"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"synchronized"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tty"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"root"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c1dd4e1e-1356-411c-8613-e15146633640"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"working_dir"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/app"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>A container is a representation of a Docker container in a node.</p>

<p>This is a <a href="#namespaced-endpoints">namespaced endpoint</a>.</p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>A unique identifier for the container generated automatically on creation</td>
</tr>
<tr>
<td>resource_uri</td>
<td>A unique API endpoint that represents the container</td>
</tr>
<tr>
<td>image_name</td>
<td>The Docker image name and tag of the container</td>
</tr>
<tr>
<td>bindings</td>
<td>A list of volume bindings that the container has mounted (see table <code class="prettyprint">Container Binding attributes</code> below)</td>
</tr>
<tr>
<td>name</td>
<td>A user provided name for the container (inherited from the service)</td>
</tr>
<tr>
<td>node</td>
<td>The resource URI of the node where this container is running</td>
</tr>
<tr>
<td>service</td>
<td>The resource URI of the service which this container is part of</td>
</tr>
<tr>
<td>public_dns</td>
<td>The external FQDN of the container</td>
</tr>
<tr>
<td>state</td>
<td>The state of the container (see table <code class="prettyprint">Container states</code> below)</td>
</tr>
<tr>
<td>synchronized</td>
<td>Flag indicating if the container is synchronized with the current service definition.</td>
</tr>
<tr>
<td>exit_code</td>
<td>The numeric exit code of the container (if applicable, <code class="prettyprint">null</code> otherwise)</td>
</tr>
<tr>
<td>exit_code_msg</td>
<td>A string representation of the exit code of the container (if applicable, <code class="prettyprint">null</code> otherwise)</td>
</tr>
<tr>
<td>deployed_datetime</td>
<td>The date and time of the last deployment of the container (if applicable, <code class="prettyprint">null</code> otherwise)</td>
</tr>
<tr>
<td>started_datetime</td>
<td>The date and time of the last <code class="prettyprint">start</code> operation on the container (if applicable, <code class="prettyprint">null</code> otherwise)</td>
</tr>
<tr>
<td>stopped_datetime</td>
<td>The date and time of the last <code class="prettyprint">stop</code> operation on the container (if applicable, <code class="prettyprint">null</code> otherwise)</td>
</tr>
<tr>
<td>destroyed_datetime</td>
<td>The date and time of the <code class="prettyprint">terminate</code> operation on the container (if applicable, <code class="prettyprint">null</code> otherwise)</td>
</tr>
<tr>
<td>container_ports</td>
<td>List of published ports of this container (see table <code class="prettyprint">Container Port attributes</code> below)</td>
</tr>
<tr>
<td>container_envvars</td>
<td>List of user-defined environment variables set on the containers of the service, which will override the container environment variables (see table <code class="prettyprint">Container Environment Variable attributes</code> below)</td>
</tr>
<tr>
<td>labels</td>
<td>Container metadata in form of dictionary</td>
</tr>
<tr>
<td>working_dir</td>
<td>Working directory for running binaries within a container</td>
</tr>
<tr>
<td>user</td>
<td>User used on the container on launch</td>
</tr>
<tr>
<td>hostname</td>
<td>Hostname used on the container on launch</td>
</tr>
<tr>
<td>domainname</td>
<td>Domainname used on the container on launch</td>
</tr>
<tr>
<td>mac_address</td>
<td>Ethernet device&rsquo;s MAC address used on the container on launch</td>
</tr>
<tr>
<td>cgroup_name</td>
<td>Optional parent cgroup for the container.</td>
</tr>
<tr>
<td>tty</td>
<td>If the container has the tty enable</td>
</tr>
<tr>
<td>stdin_open</td>
<td>If the container has stdin opened</td>
</tr>
<tr>
<td>dns</td>
<td>Container custom DNS servers</td>
</tr>
<tr>
<td>dns_search</td>
<td>Container custom DNS search domain</td>
</tr>
<tr>
<td>cap_add</td>
<td>Container added capabilities</td>
</tr>
<tr>
<td>cap_drop</td>
<td>Container dropped capabilities</td>
</tr>
<tr>
<td>devices</td>
<td>List of container device mappings</td>
</tr>
<tr>
<td>extra_hosts</td>
<td>List of container hostname mappings</td>
</tr>
<tr>
<td>secuirty_opt</td>
<td>Labeling scheme of this container</td>
</tr>
<tr>
<td>entrypoint</td>
<td>Entrypoint used on the container on launch</td>
</tr>
<tr>
<td>run_command</td>
<td>Run command used on the container on launch</td>
</tr>
<tr>
<td>cpu_shares</td>
<td>The relative CPU priority of the container (see <a href="/engine/reference/run/#runtime-constraints-on-cpu-and-memory">Runtime Constraints on CPU and Memory</a> for more information)</td>
</tr>
<tr>
<td>cpuset</td>
<td>CPUs in which execution is allowed</td>
</tr>
<tr>
<td>memory</td>
<td>The memory limit of the container in MB (see <a href="/engine/reference/run/#runtime-constraints-on-cpu-and-memory">Runtime Constraints on CPU and Memory</a> for more information)</td>
</tr>
<tr>
<td>memory_swap</td>
<td>Total memory limit (memory + swap) of the container in MB</td>
</tr>
<tr>
<td>autorestart</td>
<td>Whether to restart the container automatically if it stops (see <a href="/docker-cloud/apps/autorestart/">Crash recovery</a> for more information)</td>
</tr>
<tr>
<td>autodestroy</td>
<td>Whether to terminate the container automatically if it stops (see <a href="/docker-cloud/apps/auto-destroy/">Autodestroy</a> for more information)</td>
</tr>
<tr>
<td>roles</td>
<td>List of Docker Cloud roles asigned to this container (see <a href="/docker-cloud/apps/api-roles/">API roles</a> for more information))</td>
</tr>
<tr>
<td>linked_to_container</td>
<td>List of IP addresses of the linked containers (see table <code class="prettyprint">Container Link attributes</code> below and <a href="/docker-cloud/apps/service-links/">Service links</a> for more information)</td>
</tr>
<tr>
<td>link_variables</td>
<td>List of environment variables that would be exposed in any container that is linked to this one</td>
</tr>
<tr>
<td>privileged</td>
<td>Whether the container has Docker&rsquo;s <code class="prettyprint">privileged</code> flag set or not (see <a href="/engine/reference/run/#runtime-privilege-linux-capabilities-and-lxc-configuration">Runtime privilege</a> for more information)</td>
</tr>
<tr>
<td>read_only</td>
<td>Whether the container filesystem is read-only or not</td>
</tr>
<tr>
<td>private_ip</td>
<td>IP address of the container on the overlay network. This IP will be reachable from any other container.</td>
</tr>
<tr>
<td>net</td>
<td>Network mode set on the container (see table <code class="prettyprint">Network Modes</code> below, <a href="/engine/reference/run/#network-settings">more information</a>)</td>
</tr>
<tr>
<td>pid</td>
<td>PID (Process) Namespace mode for the container (<a href="/engine/reference/run/#pid-settings-pid">more information</a>)</td>
</tr>
</tbody></table>

<h3 id="container-binding-attributes">Container Binding attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>host_path</td>
<td>The host path of the volume</td>
</tr>
<tr>
<td>container_path</td>
<td>The container path where the volume is mounted</td>
</tr>
<tr>
<td>rewritable</td>
<td><code class="prettyprint">true</code> is the volume has writable permissions</td>
</tr>
<tr>
<td>volume</td>
<td>The resource URI of the volume</td>
</tr>
</tbody></table>

<h3 id="container-port-attributes">Container Port attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>protocol</td>
<td>The protocol of the port, either <code class="prettyprint">tcp</code> or <code class="prettyprint">udp</code></td>
</tr>
<tr>
<td>inner_port</td>
<td>The published port number inside the container</td>
</tr>
<tr>
<td>outer_port</td>
<td>The published port number in the node public network interface</td>
</tr>
<tr>
<td>port_name</td>
<td>Name of the service associated to this port</td>
</tr>
<tr>
<td>uri_protocol</td>
<td>The protocol to be used in the endpoint for this port (i.e. <code class="prettyprint">http</code>)</td>
</tr>
<tr>
<td>endpoint_uri</td>
<td>The URI of the endpoint for this port</td>
</tr>
<tr>
<td>published</td>
<td>Whether the port has been published in the host public network interface or not. Non-published ports can only be accessed via links.</td>
</tr>
</tbody></table>

<h3 id="container-environment-variable-attributes">Container Environment Variable attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>key</td>
<td>The name of the environment variable</td>
</tr>
<tr>
<td>value</td>
<td>The value of the environment variable</td>
</tr>
</tbody></table>

<h3 id="container-states">Container States</h3>

<table><thead>
<tr>
<th>State</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Starting</td>
<td>The container is being deployed or started (from Stopped). No actions allowed in this state.</td>
</tr>
<tr>
<td>Running</td>
<td>The container is deployed and running. Possible actions in this state: <code class="prettyprint">stop</code>, <code class="prettyprint">terminate</code>.</td>
</tr>
<tr>
<td>Stopping</td>
<td>The container is being stopped. No actions allowed in this state.</td>
</tr>
<tr>
<td>Stopped</td>
<td>The container is stopped. Possible actions in this state: <code class="prettyprint">start</code>, <code class="prettyprint">terminate</code>.</td>
</tr>
<tr>
<td>Terminating</td>
<td>The container is being deleted. No actions allowed in this state.</td>
</tr>
<tr>
<td>Terminated</td>
<td>The container has been deleted. No actions allowed in this state.</td>
</tr>
</tbody></table>

<h3 id="network-modes">Network Modes</h3>

<table><thead>
<tr>
<th>Strategy</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bridge</td>
<td>Creates a new network stack for the container on the docker bridge.</td>
</tr>
<tr>
<td>host</td>
<td>Uses the host network stack inside the container.</td>
</tr>
</tbody></table>

<h3 id="container-link-attributes">Container Link attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>The name given to the link</td>
</tr>
<tr>
<td>from_container</td>
<td>The resource URI of the &ldquo;client&rdquo; container</td>
</tr>
<tr>
<td>to_container</td>
<td>The resource URI of the &ldquo;server&rdquo; container being linked</td>
</tr>
<tr>
<td>endpoints</td>
<td>A dictionary with the endpoints (protocol, IP and port) to be used to reach each of the &ldquo;server&rdquo; container exposed ports</td>
</tr>
</tbody></table>

<h2 id="list-all-containers">List all containers</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">containers</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">containerList</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">ListContainers</span><span class="p">()</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">containerList</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/app/v1/container/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud container ps
</code></pre>

<p>Lists all current and recently terminated containers. Returns a list of <code class="prettyprint">Container</code> objects.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/app/v1/[optional_namespace/]container/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>Filter by UUID</td>
</tr>
<tr>
<td>state</td>
<td>Filter by state. Possible values: <code class="prettyprint">Starting</code>, <code class="prettyprint">Running</code>, <code class="prettyprint">Stopping</code>, <code class="prettyprint">Stopped</code>, <code class="prettyprint">Terminating</code>, <code class="prettyprint">Terminated</code></td>
</tr>
<tr>
<td>name</td>
<td>Filter by container name</td>
</tr>
<tr>
<td>service</td>
<td>Filter by resource URI of the target service.</td>
</tr>
<tr>
<td>node</td>
<td>Filter by resource URI of the target node.</td>
</tr>
</tbody></table>

<h2 id="get-an-existing-container">Get an existing container</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">container</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">container</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockerckoud</span><span class="o">.</span><span class="n">GetContainer</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">container</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/app/v1/container/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud container inspect 7eaf7fff
</code></pre>

<p>Get all the details of an specific container</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/app/v1/[optional_namespace/]container/(uuid)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the container to retrieve</td>
</tr>
</tbody></table>

<h2 id="get-the-logs-of-a-container">Get the logs of a container</h2>

<blockquote>
<p>Example log line</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"log"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"log"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Log line from the container"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"streamType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stdout"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1433779324</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="k">def</span> <span class="nf">log_handler</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">message</span>

<span class="n">container</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
<span class="n">container</span><span class="o">.</span><span class="n">logs</span><span class="p">(</span><span class="n">tail</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">log_handler</span><span class="o">=</span><span class="n">log_handler</span><span class="p">)</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">container</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetContainer</span><span class="p">(</span><span class="s">"447ecddc-2890-4ea2-849b-99392e0dd7a6"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span><span class="n">c</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="nb">make</span><span class="p">(</span><span class="k">chan</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">Logs</span><span class="p">)</span><span class="x">

</span><span class="k">go</span><span class="x"> </span><span class="n">container</span><span class="o">.</span><span class="n">Logs</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="x">
    </span><span class="k">for</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">s</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&lt;-</span><span class="n">c</span><span class="x">
        </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="x">
    </span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/app/v1/container/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/logs/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">ws.cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">Upgrade</span>
<span class="na">Upgrade</span><span class="p">:</span> <span class="s">websocket</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud container logs 7eaf7fff
</code></pre>

<p>Get the logs of the specified container.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>STREAM API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/app/v1/[optional_namespace/]container/(uuid)/logs/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the container to retrieve logs</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tail</td>
<td>Number of lines to show from the end of the logs (default: <code class="prettyprint">300</code>)</td>
</tr>
<tr>
<td>follow</td>
<td>Whether to stream logs or close the connection immediately (default: true)</td>
</tr>
<tr>
<td>service</td>
<td>Filter by service (resource URI)</td>
</tr>
</tbody></table>

<h2 id="start-a-container">Start a container</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">container</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
<span class="n">container</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">container</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetContainer</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">container</span><span class="o">.</span><span class="n">Start</span><span class="p">();</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/app/v1/container/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/start/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud container start 7eaf7fff
</code></pre>

<p>Starts a stopped container.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/app/v1/[optional_namespace/]container/(uuid)/start/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the container to start</td>
</tr>
</tbody></table>

<h2 id="stop-a-container">Stop a container</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">container</span> <span class="o">=</span> <span class="n">dockerlcoud</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
<span class="n">container</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">container</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetContainer</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">container</span><span class="o">.</span><span class="n">Stop</span><span class="p">();</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
       </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
   </span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/app/v1/container/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/stop/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud container stop 7eaf7fff
</code></pre>

<p>Stops a running container.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/app/v1/[optional_namespace/]container/(uuid)/stop/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the container to stop</td>
</tr>
</tbody></table>

<h2 id="redeploy-a-container">Redeploy a container</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">container</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
<span class="n">container</span><span class="o">.</span><span class="n">redeploy</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">container</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetContainer</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span><span class="c">//Redeploy(dockercloud.ReuseVolumesOption{Reuse: true) to reuse the existing volumes</span><span class="x">
</span><span class="c">//Redeploy(dockercloud.ReuseVolumesOption{Reuse: false}) to not reuse the existing volumes</span><span class="x">
</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">container</span><span class="o">.</span><span class="n">Redeploy</span><span class="p">(</span><span class="n">dockercloud</span><span class="o">.</span><span class="n">ReuseVolumesOption</span><span class="p">{</span><span class="n">Reuse</span><span class="o">:</span><span class="x"> </span><span class="no">false</span><span class="p">});</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/app/v1/container/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/start/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud container redeploy 7eaf7fff
</code></pre>

<p>Redeploys a container.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/app/v1/[optional_namespace/]container/(uuid)/redeploy/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the container to redeploy</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>reuse_volumes</td>
<td>Wheather to reuse container volumes for this redeploy operation or not (default: <code class="prettyprint">true</code>).</td>
</tr>
</tbody></table>

<h2 id="terminate-a-container">Terminate a container</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">container</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Container</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
<span class="n">container</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">container</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetContainer</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">container</span><span class="o">.</span><span class="n">Terminate</span><span class="p">();</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
       </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
   </span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/api/app/v1/container/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud container terminate 7eaf7fff
</code></pre>

<p>Terminates the specified container. This is not reversible. All data stored in the container will be permanently deleted.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /api/app/v1/[optional_namespace/]container/(uuid)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the container to terminate</td>
</tr>
</tbody></table>

<h2 id="execute-command-inside-a-container">Execute command inside a container</h2>
<pre class="highlight plaintext"><code>import dockercloud

def msg_handler(message):
    print message

container = dockercloud.Container.fetch("7eaf7fff-882c-4f3d-9a8f-a22317ac00ce")
container.execute("ls", handler=msg_handler)
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">container</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetContainer</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">c</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="nb">make</span><span class="p">(</span><span class="k">chan</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">Exec</span><span class="p">)</span><span class="x">

</span><span class="n">container</span><span class="o">.</span><span class="n">Exec</span><span class="p">(</span><span class="s">"ls"</span><span class="p">,</span><span class="x"> </span><span class="n">c</span><span class="p">)</span><span class="x">

</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/app/v1/container/(uuid)/exec/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">ws.cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">Upgrade</span>
<span class="na">Upgrade</span><span class="p">:</span> <span class="s">websocket</span>
</code></pre>
<pre class="highlight plaintext"><code>docker-cloud exec 7eaf7fff ls
</code></pre>

<p>Executes a command inside the specified running container, creating a bi-directional stream for the process&rsquo; standard input and output. This endpoint can be connected to using a bi-directional Secure Web Socket <code class="prettyprint">wss://ws.cloud.docker.com/api/app/v1/container/(uuid)/exec/</code></p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>STREAM API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/app/v1/[optional_namespace/]container/(uuid)/exec/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the container where the command will be executed</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>command</td>
<td>Command to be executed (default: <code class="prettyprint">sh</code>)</td>
</tr>
</tbody></table>

          <h1 id="triggers">Triggers</h1>

<h2 id="service-triggers">Service triggers</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/app/v1/user_namespace/service/82d4a246-52d8-468d-903d-9da9ef05ff28/trigger/0224815a-c156-44e4-92d7-997c69354438/call/"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REDEPLOY"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"docker_trigger"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/app/v1/user_namespace/service/82d4a246-52d8-468d-903d-9da9ef05ff28/trigger/0224815a-c156-44e4-92d7-997c69354438/"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Triggers are URLs that will start a redeploy of the service whenever a <code class="prettyprint">POST</code> request is sent to them. They require no authorization headers, so they should be treated as access tokens. Triggers can be revoked if they are leaked or no longer used for security purposes. See <a href="/docker-cloud/apps/triggers/">Triggers</a> for more information.</p>

<p>This is a <a href="#namespaced-endpoints">namespaced endpoint</a>.</p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>url</td>
<td>Address to be used to call the trigger with a <code class="prettyprint">POST</code> request</td>
</tr>
<tr>
<td>name</td>
<td>A user provided name for the trigger</td>
</tr>
<tr>
<td>operation</td>
<td>The operation that the trigger call performs (see table <code class="prettyprint">Operations</code> below)</td>
</tr>
<tr>
<td>resource_uri</td>
<td>A unique API endpoint that represents the trigger</td>
</tr>
</tbody></table>

<h3 id="operations">Operations</h3>

<table><thead>
<tr>
<th>Operation</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>REDEPLOY</td>
<td>Performs a <code class="prettyprint">redeploy</code> service operation.</td>
</tr>
<tr>
<td>SCALEUP</td>
<td>Performs a <code class="prettyprint">scale up</code> service operation.</td>
</tr>
</tbody></table>

<h2 id="list-all-triggers">List all triggers</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">service</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Service</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">'61a29874-9134-48f9-b460-f37d4bec4826'</span><span class="p">)</span>
<span class="n">trigger</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Trigger</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">service</span><span class="p">)</span>
<span class="n">trigger</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/app/v1/service/61a29874-9134-48f9-b460-f37d4bec4826/trigger/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">service</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetService</span><span class="p">(</span><span class="s">"61a29874-9134-48f9-b460-f37d4bec4826"</span><span class="p">)</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
    </span><span class="p">}</span><span class="x">

</span><span class="n">trigger</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">service</span><span class="o">.</span><span class="n">ListTriggers</span><span class="p">()</span><span class="x">

  </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
  </span><span class="p">}</span><span class="x">

    </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">trigger</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight shell"><code>docker-cloud trigger list 61a29874-9134-48f9-b460-f37d4bec4826
</code></pre>

<p>Lists all current triggers the service has associated to. Returns a list of <code class="prettyprint">Service Trigger</code> objects.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/app/v1/[optional_namespace/]service/(uuid)/trigger/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the service the triggers are associated to</td>
</tr>
</tbody></table>

<h2 id="create-a-new-trigger">Create a new trigger</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">service</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Service</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">'61a29874-9134-48f9-b460-f37d4bec4826'</span><span class="p">)</span>
<span class="n">trigger</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Trigger</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">service</span><span class="p">)</span>
<span class="n">trigger</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">"mytrigger_name"</span><span class="p">,</span> <span class="n">operation</span><span class="o">=</span><span class="s">"REDEPLOY"</span><span class="p">)</span>
<span class="n">trigger</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">service</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetService</span><span class="p">(</span><span class="s">"61a29874-9134-48f9-b460-f37d4bec4826"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">trigger</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">service</span><span class="o">.</span><span class="n">CreateTrigger</span><span class="p">(</span><span class="n">dockercloud</span><span class="o">.</span><span class="n">TriggerCreateRequest</span><span class="p">{</span><span class="n">Name</span><span class="o">:</span><span class="x"> </span><span class="s">"test-trigger"</span><span class="p">,</span><span class="x"> </span><span class="n">Operation</span><span class="o">:</span><span class="x"> </span><span class="s">"REDEPLOY"</span><span class="p">})</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">trigger</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/app/v1/service/61a29874-9134-48f9-b460-f37d4bec4826/trigger/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mytrigger_name"</span><span class="p">,</span><span class="w"> </span><span class="nt">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REDEPLOY"</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight shell"><code>docker-cloud trigger create --name mytrigger_name --operation REDEPLOY 61a29874-9134-48f9-b460-f37d4bec4826
</code></pre>

<p>Creates a new service trigger.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/app/v1/[optional_namespace/]service/(uuid)/trigger/</code></p>

<h3 id="json-parameters">JSON Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>(optional) A user provided name for the trigger</td>
</tr>
<tr>
<td>operation</td>
<td>(optional) The operation to be performed by the trigger (default: &ldquo;REDEPLOY&rdquo;)</td>
</tr>
</tbody></table>

<h2 id="get-an-existing-trigger">Get an existing trigger</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">service</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Service</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">'61a29874-9134-48f9-b460-f37d4bec4826'</span><span class="p">)</span>
<span class="n">trigger</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Trigger</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">service</span><span class="p">)</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">service</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetService</span><span class="p">(</span><span class="s">"61a29874-9134-48f9-b460-f37d4bec4826"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">trigger</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">service</span><span class="o">.</span><span class="n">GetTrigger</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">trigger</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/app/v1/service/61a29874-9134-48f9-b460-f37d4bec4826/trigger/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>

<p>Get all the details of an specific trigger</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/app/v1/[optional_namespace/]service/(uuid)/trigger/(trigger_uuid)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the service the triggers are associated to</td>
</tr>
<tr>
<td>trigger_uuid</td>
<td>The UUID of the trigger to retrieve</td>
</tr>
</tbody></table>

<h2 id="delete-a-trigger">Delete a trigger</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">service</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Service</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">'61a29874-9134-48f9-b460-f37d4bec4826'</span><span class="p">)</span>
<span class="n">trigger</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Trigger</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">service</span><span class="p">)</span>
<span class="n">trigger</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">service</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetService</span><span class="p">(</span><span class="s">"61a29874-9134-48f9-b460-f37d4bec4826"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">service</span><span class="o">.</span><span class="n">DeleteTrigger</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/api/app/v1/service/61a29874-9134-48f9-b460-f37d4bec4826/trigger/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud trigger rm 61a29874-9134-48f9-b460-f37d4bec4826 7eaf7fff-882c-4f3d-9a8f-a22317ac00ce
</code></pre>

<p>Deletes specific trigger. It will be no longer available to be called.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /api/app/v1/[optional_namespace/]service/(uuid)/trigger/(trigger_uuid)/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the associated service</td>
</tr>
<tr>
<td>trigger_uuid</td>
<td>The UUID of the trigger to delete</td>
</tr>
</tbody></table>

<h2 id="call-a-trigger">Call a trigger</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="n">service</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Service</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">'61a29874-9134-48f9-b460-f37d4bec4826'</span><span class="p">)</span>
<span class="n">trigger</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Trigger</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">service</span><span class="p">)</span>
<span class="n">trigger</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="n">service</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">GetService</span><span class="p">(</span><span class="s">"61a29874-9134-48f9-b460-f37d4bec4826"</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
  </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="n">service</span><span class="o">.</span><span class="n">CallTrigger</span><span class="p">(</span><span class="s">"7eaf7fff-882c-4f3d-9a8f-a22317ac00ce"</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/api/app/v1/service/61a29874-9134-48f9-b460-f37d4bec4826/trigger/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/call/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">cloud.docker.com</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>

<p>Executes the trigger. For <code class="prettyprint">SCALEUP</code> triggers, the number of containers to scale up can be passed at the end of the trigger call url, for example <code class="prettyprint">/api/app/v1/service/61a29874-9134-48f9-b460-f37d4bec4826/trigger/7eaf7fff-882c-4f3d-9a8f-a22317ac00ce/call/3/</code>.</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>REST API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/app/v1/[optional_namespace/]service/(uuid)/trigger/(trigger_uuid)/call/</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>The UUID of the associated service</td>
</tr>
<tr>
<td>trigger_uuid</td>
<td>The UUID of the trigger to call</td>
</tr>
</tbody></table>

          <h1 id="docker-cloud-events">Docker Cloud Events</h1>

<h2 id="docker-cloud-event">Docker Cloud Event</h2>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"action"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"parents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"/api/app/v1/user_namespace/container/0b0e3538-88df-4f07-9aed-3a3cc4175076/"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"resource_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/app/v1/user_namespace/action/49f0efe8-a704-4a10-b02f-f96344fabadd/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"093ba3bb-08dd-48f0-8f12-4d3b85ef85b3"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-01T16:47:28Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Docker Cloud events are generated every time any of the following objects is created or changes state:</p>

<ul>
<li>Stack</li>
<li>Service</li>
<li>Container</li>
<li>Node Cluster</li>
<li>Node</li>
<li>Action</li>
</ul>

<p>This is a <a href="#namespaced-endpoints">namespaced endpoint</a>.</p>

<h3 id="attributes">Attributes</h3>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">Type of object that was created or updated. For possible values, check the <a href="#event-types">events types</a> table below.</td>
</tr>
<tr>
<td style="text-align: left">action</td>
<td style="text-align: left">Type of action that was executed on the object. Posible values: <code class="prettyprint">create</code>, <code class="prettyprint">update</code> or <code class="prettyprint">delete</code></td>
</tr>
<tr>
<td style="text-align: left">parents</td>
<td style="text-align: left">List of resource URIs (REST API) of the parents of the object, according to the &ldquo;Parent-child hierarchy&rdquo; table below</td>
</tr>
<tr>
<td style="text-align: left">resource_uri</td>
<td style="text-align: left">Resource URI (REST API) of the object that was created or updated. You can do a <code class="prettyprint">GET</code> operation on this URL to fetch its details</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">The current state of the object</td>
</tr>
<tr>
<td style="text-align: left">uuid</td>
<td style="text-align: left">Unique identifier for the event</td>
</tr>
<tr>
<td style="text-align: left">datetime</td>
<td style="text-align: left">Date and time of the event in ISO 8601 format</td>
</tr>
</tbody></table>

<h3 id="event-types">Event types</h3>

<table><thead>
<tr>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">stack</td>
<td style="text-align: left">Whenever a <code class="prettyprint">Stack</code> is created or updated</td>
</tr>
<tr>
<td style="text-align: left">service</td>
<td style="text-align: left">Whenever a <code class="prettyprint">Service</code> is created or updated</td>
</tr>
<tr>
<td style="text-align: left">container</td>
<td style="text-align: left">Whenever a <code class="prettyprint">Container</code> is created or updated</td>
</tr>
<tr>
<td style="text-align: left">nodecluster</td>
<td style="text-align: left">Whenever a <code class="prettyprint">Node Cluster</code> is created or updated</td>
</tr>
<tr>
<td style="text-align: left">node</td>
<td style="text-align: left">Whenever a <code class="prettyprint">Node</code> is created or updated</td>
</tr>
<tr>
<td style="text-align: left">action</td>
<td style="text-align: left">Whenever a <code class="prettyprint">Action</code> is created or updated</td>
</tr>
<tr>
<td style="text-align: left">error</td>
<td style="text-align: left">Sent when an error occurs on the websocket connection or as part of the authentication process</td>
</tr>
</tbody></table>

<h3 id="parent-child-hierarchy">Parent-child hierarchy</h3>

<table><thead>
<tr>
<th style="text-align: left">Object type</th>
<th style="text-align: left">Parent types</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">Stack</td>
<td style="text-align: left">(None)</td>
</tr>
<tr>
<td style="text-align: left">Service</td>
<td style="text-align: left">Stack</td>
</tr>
<tr>
<td style="text-align: left">Container</td>
<td style="text-align: left">Service, Stack, Node, Node Cluster</td>
</tr>
<tr>
<td style="text-align: left">Node Cluster</td>
<td style="text-align: left">(None)</td>
</tr>
<tr>
<td style="text-align: left">Node</td>
<td style="text-align: left">Node Cluster</td>
</tr>
<tr>
<td style="text-align: left">Action</td>
<td style="text-align: left">(object to which the action applies to)</td>
</tr>
</tbody></table>

<h2 id="listen-to-new-docker-cloud-events">Listen to new Docker Cloud Events</h2>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">dockercloud</span>

<span class="k">def</span> <span class="nf">process_event</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">event</span>

<span class="n">events</span> <span class="o">=</span> <span class="n">dockercloud</span><span class="o">.</span><span class="n">Events</span><span class="p">()</span>
<span class="n">events</span><span class="o">.</span><span class="n">on_message</span><span class="p">(</span><span class="n">process_event</span><span class="p">)</span>
<span class="n">events</span><span class="o">.</span><span class="n">run_forever</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/docker/go-dockercloud/dockercloud"</span><span class="x">

</span><span class="c">// Listens for container events only</span><span class="x">
</span><span class="n">myFilter</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">NewStreamFilter</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dockercloud</span><span class="o">.</span><span class="n">EventFilter</span><span class="p">{</span><span class="n">Type</span><span class="o">:</span><span class="x"> </span><span class="s">"container"</span><span class="p">})</span><span class="x">

</span><span class="n">stream</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">dockercloud</span><span class="o">.</span><span class="n">NewStream</span><span class="p">(</span><span class="n">myFilter</span><span class="p">)</span><span class="x">

</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">stream</span><span class="o">.</span><span class="n">Connect</span><span class="p">();</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">==</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="k">go</span><span class="x"> </span><span class="n">stream</span><span class="o">.</span><span class="n">RunForever</span><span class="p">()</span><span class="x">
</span><span class="p">}</span><span class="x"> </span><span class="k">else</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">log</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="s">"Connect err: "</span><span class="x"> </span><span class="o">+</span><span class="x"> </span><span class="n">err</span><span class="o">.</span><span class="n">Error</span><span class="p">())</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">for</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="k">select</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="k">case</span><span class="x"> </span><span class="n">event</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&lt;-</span><span class="n">stream</span><span class="o">.</span><span class="n">MessageChan</span><span class="o">:</span><span class="x">
        </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">event</span><span class="p">)</span><span class="x">
    </span><span class="k">case</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&lt;-</span><span class="n">stream</span><span class="o">.</span><span class="n">ErrorChan</span><span class="o">:</span><span class="x">
        </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
    </span><span class="p">}</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/api/audit/v1/events/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">ws.cloud.docker.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic dXNlcm5hbWU6YXBpa2V5</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">Upgrade</span>
<span class="na">Upgrade</span><span class="p">:</span> <span class="s">websocket</span>
</code></pre>
<pre class="highlight shell"><code>docker-cloud event
</code></pre>

<p>Listens for new Docker Cloud Events</p>

<h3 id="endpoint-type">Endpoint Type</h3>

<p>Available in Docker Cloud&rsquo;s <strong>STREAM API</strong></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/audit/v1/[optional_namespace/]events/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>Filter by type</td>
</tr>
<tr>
<td>object</td>
<td>Filter by object resource URI</td>
</tr>
<tr>
<td>parent</td>
<td>Filter by object parents</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<blockquote>
<p>API response structure</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Descriptive error message"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The Docker Cloud API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; There&rsquo;s a problem in the content of your request. Retrying the same request will fail.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong or your account has been deactivated.</td>
</tr>
<tr>
<td>402</td>
<td>Payment Required &ndash; You need to provide billing information to perform this request.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; Quota limit exceeded. Please contact support to request a quota increase.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The requested object cannot be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; The endpoint requested does not implement the method sent.</td>
</tr>
<tr>
<td>409</td>
<td>Conflict &ndash; The object cannot be created or updated because another object exists with the same unique fields</td>
</tr>
<tr>
<td>415</td>
<td>Unsupported Media Type &ndash; Make sure you are using <code class="prettyprint">Accept</code> and <code class="prettyprint">Content-Type</code> headers as <code class="prettyprint">application/json</code> and that the data your are <code class="prettyprint">POST</code>-ing or <code class="prettyprint">PATCH</code>-ing is in valid JSON format.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You are being throttled because of too many requests in a short period of time.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; There was a server error while processing your request. Try again later, or contact support.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarily offline for maintenance. Please try again later.</td>
</tr>
<tr>
<td>504</td>
<td>Gateway Timeout &ndash; Our API servers are at full capacity. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="http">http</a>
                <a href="#" data-language-name="go">go</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="shell">CLI</a>
          </div>
      </div>
    </div>
  </body>
</html>
